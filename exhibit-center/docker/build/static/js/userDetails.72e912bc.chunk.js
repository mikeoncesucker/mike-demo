(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{781:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var s=a(0),l=a.n(s);function n(e){var t=[];return l.a.Children.forEach(e,function(e){t.push(e)}),t}},971:function(e,t,a){"use strict";a.r(t);a(325);var s=a(222),l=(a(842),a(843)),n=a(29),r=a(30),i=a(32),d=a(31),o=a(33),c=a(0),u=a.n(c),m=a(673),E=a(34),g=a(62),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).onExpand=function(e){a.setState({expandedKeys:e,autoExpandParent:!1})},a.renderTreeNodes=function(e){return e.map(function(e){return e.children?u.a.createElement(l.a.TreeNode,{title:e.name,key:e.id,dataRef:e},a.renderTreeNodes(e.children)):u.a.createElement(l.a.TreeNode,{title:e.name,key:e.id})})},a.getBisiness=function(e){(0,a.props.getBisiness)({userId:e.id,cb:function(e){"200"===e.code&&(a.getRoleByUserId(e.data[0]),a.setState({businessSystem:e.data[0].identifier,businessSystemList:e.data}))}})},a.getRoleByUserId=function(e){var t=a.props,s=t.getRoleByUserId,l=t.user;s({userId:l?l.id:null,bisiness:e.identifier,cb:function(e){e&&(a.getResourcesByRole(a.state.businessSystem,e[0].id),a.setState({role:e[0].id,roleList:e||[]}))}})},a.getResourcesByRole=function(e,t){(0,a.props.getResourcesByRole)({bisiness:e,roleId:t,cb:function(e){a.setState({resources:e.data.children||[]})}})},a.state={businessSystem:null,businessSystemList:null,role:null,roleList:[],expandedKeys:[],autoExpandParent:!0,resources:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,a=t.location,s=t.getUserByUserId;a.state&&sessionStorage.setItem("userId",a.state.id),s({userId:sessionStorage.getItem("userId"),cb:function(t){e.getBisiness(t)}})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.resetUsers,a=e.resetBisinesss,s=e.resetRoles;t(),a(),s()}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.user,r=this.state,i=r.businessSystemList,d=r.roleList,o=r.resources;return n?u.a.createElement("div",null,u.a.createElement("div",{className:a.root},u.a.createElement("p",{className:a.title},u.a.createElement(g.a,{id:"user.detail.basicInformation",defaultMessage:"Basic information"})),u.a.createElement("table",{className:a.table},u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.userName",defaultMessage:"User name"})),u.a.createElement("div",{className:"value"},u.a.createElement(s.a,{title:n.name},n.name))),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.userAccount",defaultMessage:"User account"})),u.a.createElement("div",{className:"value"},u.a.createElement(s.a,{title:n.account,placement:"topLeft"},n.account))),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.sex",defaultMessage:"Gender"})),u.a.createElement("div",{className:"value"},n.gender))),u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.cellphoneNumber",defaultMessage:"Telephone"})),u.a.createElement("div",{className:"value"},n.mobile)),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.birthdate",defaultMessage:"Date of birth"})),u.a.createElement("div",{className:"value"},n.birthday)),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.IdNumber",defaultMessage:"ID number"})),u.a.createElement("div",{className:"value"},n.idcard))),u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.quarters",defaultMessage:"Position"})),u.a.createElement("div",{className:"value"},n.work)),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.organisation",defaultMessage:"Organization"})),u.a.createElement("div",{className:"value"},n.organization&&n.organization.name)),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.organizationLeader",defaultMessage:"Organization leader"})),u.a.createElement("div",{className:"value"},n.organization&&n.organization.manager.name||"--"))),u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.hireDate",defaultMessage:"Entry date"})),u.a.createElement("div",{className:"value"},n.entryDate)),u.a.createElement("td",null,u.a.createElement("div",{className:"lable"},u.a.createElement(g.a,{id:"user.detail.accountStatus",defaultMessage:"Account status"})),u.a.createElement("div",{className:"value"},n.status?u.a.createElement("span",null,u.a.createElement("span",{style:{display:"inline-block",backgroundColor:"#27DA99",borderRadius:"50%",width:"6px",height:"6px",margin:"0 2px 2px"}}),u.a.createElement(g.a,{id:"user.detail.enable",defaultMessage:"Enabled"})):u.a.createElement("span",null,u.a.createElement("span",{style:{display:"inline-block",backgroundColor:"orange",borderRadius:"50%",width:"6px",height:"6px",margin:"0 2px 2px"}}),u.a.createElement(g.a,{id:"user.detail.disable",defaultMessage:"Disabled"})))))))),u.a.createElement("div",{className:a.root},u.a.createElement("p",{className:a.title},u.a.createElement(g.a,{id:"user.detail.roleInformation",defaultMessage:"Role information"})),u.a.createElement("table",{className:a.table,style:{tableLayout:"fixed"}},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,u.a.createElement(g.a,{id:"user.detail.businessSystem",defaultMessage:"Business system"})),u.a.createElement("th",null,u.a.createElement(g.a,{id:"user.detail.role",defaultMessage:"Role"})),u.a.createElement("th",null,u.a.createElement(g.a,{id:"user.detail.resourceAuthority",defaultMessage:"Resource permissions"})))),u.a.createElement("tbody",null,u.a.createElement("tr",null,u.a.createElement("td",null,u.a.createElement("div",{className:a.tdContent},i?i.map(function(t){return u.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid rgba(204,204,204,1)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"},key:t.id,className:e.state.businessSystem===t.identifier?a.item:void 0,onClick:function(){e.setState({businessSystem:t.identifier,roleList:[],resources:[]}),e.getRoleByUserId(t)}},u.a.createElement(s.a,{title:t.name},t.name))}):u.a.createElement(g.a,{id:"user.detail.notAccessibleAccessibleBusinessSystem",defaultMessage:"No results found"}))),u.a.createElement("td",null,u.a.createElement("div",{className:a.tdContent},0===d.length&&u.a.createElement("div",null,u.a.createElement(g.a,{id:"user.detail.noData",defaultMessage:"NO data"})),d.map(function(t,l){return u.a.createElement("div",{style:{height:"54px",lineHeight:"54px",borderBottom:"1px solid rgba(204,204,204,1)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"},key:l,className:e.state.role===t.id?a.item:void 0,onClick:function(){e.setState({role:t.id,resources:[]}),e.getResourcesByRole(e.state.businessSystem,t.id)}},u.a.createElement(s.a,{title:t.name},t.name))}))),u.a.createElement("td",null,u.a.createElement("div",{className:a.tdContent},0===o.length&&u.a.createElement("div",null,u.a.createElement(g.a,{id:"user.detail.noData",defaultMessage:"NO data"})),u.a.createElement(l.a,{onExpand:this.onExpand,expandedKeys:this.state.expandedKeys,autoExpandParent:this.state.autoExpandParent},this.renderTreeNodes(o))))))))):u.a.createElement("div",null)}}]),t}(u.a.Component);t.default=Object(m.a)(function(e){return{root:{margin:"20px",backgroundColor:"#FFFFFF",padding:"30px 20px"},title:{fontSize:"16px",color:"#33353D"},table:{width:"100%","& th":{fontWeight:"normal",height:"54px",color:"#33353D",backgroundColor:"rgba(250,250,252,1)"},"& thead> tr":{height:"54px"},"& td, & th":{width:"33.33%",padding:"0",border:"1px solid rgba(204,204,204,1)",height:"40px",lineHeight:"40px",textIndent:"15px","& .lable":{float:"left",width:" 44%",backgroundColor:"rgba(250,250,252,1)",borderRight:"1px solid rgba(204,204,204,1)"},"& .value":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}},tdContent:{height:"350px",overflow:"auto","& > ul":{transform:"translateX(-30px)"}},item:{backgroundColor:"rgba(8,171,248,0.2)"}}})(Object(E.b)(function(e){var t=e.user.user,a=e.bisiness;return{user:t,bisiness:a.bisiness,role:a.role}},function(e){var t=e.user,a=t.getUserByUserId,s=t.resetUsers,l=t.getRoleByUserId,n=e.bisiness;return{getUserByUserId:a,getRoleByUserId:l,getBisiness:n.getBisiness,getRoleByBisiness:n.getRoleByBisiness,getResourcesByRole:n.getResourcesByRole,resetUsers:s,resetBisinesss:n.resetBisinesss,resetRoles:n.resetRoles,resetResourcess:n.resetResourcess}})(p))}}]);
//# sourceMappingURL=userDetails.72e912bc.chunk.js.map