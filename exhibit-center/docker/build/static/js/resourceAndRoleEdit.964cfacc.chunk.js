(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{974:function(e,a,t){"use strict";t.r(a);t(322);var s=t(676),n=(t(786),t(791)),i=(t(765),t(767)),r=(t(766),t(768)),l=(t(787),t(790)),o=(t(681),t(753)),c=t(29),u=t(30),d=t(32),m=t(31),p=t(33),f=t(0),g=t.n(f),y=t(673),b=t(34),E=t(62),h=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(d.a)(this,Object(m.a)(a).call(this,e))).showModal=function(){t.setState({visible:!0})},t.hideModal=function(){t.setState({visible:!1})},t.goBack=function(){var e=t.props,a=e.history,s=e.location;a.push("./",s.state)},t.handleSubmit=function(e){e.preventDefault();var a=t.props,s=a.editBusiSys,n=a.location;t.props.form.validateFields(function(e,a){if(!e){var i={createdAt:"",description:a.description,id:a.id,name:a.name,path:a.path,identifier:sessionStorage.getItem("roleIdentifier"),privateKey:"",publicKey:"",status:0,updatedAt:""};if(n.state)s({id:sessionStorage.getItem("roleId"),params:i,cb:function(){t.goBack()}});else(0,t.props.addBusiSys)({params:i,cb:function(){t.goBack()}})}})},t.state={},t}return Object(p.a)(a,e),Object(u.a)(a,[{key:"componentWillMount",value:function(){var e=this.props,a=e.querySysById;e.location.state&&a({id:sessionStorage.getItem("roleId"),cb:null})}},{key:"componentWillUnmount",value:function(){(0,this.props.resetSysInfos)()}},{key:"render",value:function(){var e=this.props,a=e.classes,t=e.form,c=e.sysInfo,u=e.location,d=t.getFieldDecorator,m=[];return u.state&&(m=Object.assign({},c)),g.a.createElement("div",{className:a.root},g.a.createElement("p",{className:a.title},g.a.createElement(E.a,{id:"role.baseInfo",defaultMessage:"Basic information"})),g.a.createElement(l.a,{onSubmit:this.handleSubmit,className:"login-form"},g.a.createElement(i.a,{gutter:24},g.a.createElement(r.a,{span:8},g.a.createElement(l.a.Item,{label:g.a.createElement(E.a,{id:"role.businessSystemName",defaultMessage:"Business system name"})},d("name",{initialValue:m.name,rules:[{required:!0,message:g.a.createElement(E.a,{id:"role.inputBusinessSystemName",defaultMessage:"Please enter business system name"})}]})(g.a.createElement(o.a,null)))),g.a.createElement(r.a,{span:8},g.a.createElement(l.a.Item,{label:g.a.createElement(E.a,{id:"role.businessSystemId",defaultMessage:"Business system ID"})},d("id",{initialValue:m.id,rules:[{required:!0,message:g.a.createElement(E.a,{id:"role.inputBusinessSystemId",defaultMessage:"Please enter business system ID"})}]})(g.a.createElement(o.a,{disabled:void 0!==u.state})))),g.a.createElement(r.a,{span:8},g.a.createElement(l.a.Item,{label:g.a.createElement(E.a,{id:"role.resourceEnterAddress",defaultMessage:"Resource access address"})},d("path",{initialValue:m.path,rules:[{required:!0,message:g.a.createElement(E.a,{id:"role.inputUsername",defaultMessage:"Please enter resource enter address!"})}]})(g.a.createElement(o.a,null)))),g.a.createElement(r.a,{span:8},g.a.createElement(l.a.Item,{label:g.a.createElement(E.a,{id:"role.businessSystemDescription",defaultMessage:"Resource access address"})},d("description",{initialValue:m.description,rules:[{required:!1,message:g.a.createElement(E.a,{id:"role.businessSystemDescription",defaultMessage:"Please enter business system description!"})}]})(g.a.createElement(o.a.TextArea,{rows:4}))))),g.a.createElement(l.a.Item,{className:a.button},g.a.createElement(n.a,{title:g.a.createElement(E.a,{id:"role.confirmExitEditing",defaultMessage:"Confirm to exit editing?"}),visible:this.state.visible,onOk:this.goBack,onCancel:this.hideModal,okText:g.a.createElement(E.a,{id:"role.confirm",defaultMessage:"Confirm"}),cancelText:g.a.createElement(E.a,{id:"role.cancel",defaultMessage:"Cancal"})},g.a.createElement("p",null,g.a.createElement(E.a,{id:"role.exitMsg",defaultMessage:"The editing content will restore the default after exiting"}))),g.a.createElement(s.a,{type:"primary",onClick:this.showModal},g.a.createElement(E.a,{id:"role.cancel",defaultMessage:"Cancal"})),g.a.createElement(s.a,{type:"primary",htmlType:"submit"},g.a.createElement(E.a,{id:"role.confirm",defaultMessage:"Confirm"})))))}}]),a}(g.a.Component);a.default=l.a.create()(Object(y.a)(function(e){return{root:{margin:"20px",backgroundColor:"#FFFFFF",padding:"30px 20px"},title:{fontSize:"16px",color:"#33353D"},button:{"& button":{float:"right",marginLeft:"12px"}}}})(Object(b.b)(function(e){return{sysInfo:e.resource_and_role.sysInfo}},function(e){var a=e.resource_and_role;return{addBusiSys:a.addBusiSys,editBusiSys:a.editBusiSys,querySysById:a.querySysById,resetSysInfos:a.resetSysInfos}})(h)))}}]);
//# sourceMappingURL=resourceAndRoleEdit.964cfacc.chunk.js.map