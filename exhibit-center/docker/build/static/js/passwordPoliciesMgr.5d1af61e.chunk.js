(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{969:function(e,a,t){"use strict";t.r(a);t(322);var s=t(676),r=(t(757),t(759)),n=(t(681),t(753)),l=(t(755),t(693)),i=(t(697),t(677)),o=(t(765),t(767)),c=(t(906),t(964)),d=(t(766),t(768)),m=(t(326),t(167)),u=t(29),p=t(30),f=t(32),w=t(31),E=t(33),g=t(0),h=t.n(g),b=t(673),y=t(34),M=t(62),P=function(e){function a(e){var t;return Object(u.a)(this,a),(t=Object(f.a)(this,Object(w.a)(a).call(this,e))).isShowByResourcesLabel=function(e){var a=t.props.resourcesLabel;return a&&a.indexOf(e)>-1},t.save=function(){var e=t.props,a=e.putPasswordPolicies,s=e.locale;a({body:t.state,cb:function(e){200===e.status&&"200"===e.data.code?m.a.success("zh"===s?"\u4fee\u6539\u6210\u529f":"Modify successfully"):m.a.error("zh"===s?"\u4fee\u6539\u5931\u8d25":"Modify failed")}})},t.state={minLength:null,lifetime:null,format:[],failCount:null,type:null,resetCredential:null},t}return Object(E.a)(a,e),Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getPasswordPolicies)({params:{},cb:function(){var a=e.props.password_policies;a&&e.setState({minLength:a.minLength,lifetime:a.lifetime,format:a.format,failCount:a.failCount,type:a.type,resetCredential:a.resetCredential,id:a.id})}})}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,m=a.password_policies,u=a.resourcesLabel,p=this.state,f=p.minLength,w=p.lifetime,E=p.failCount,g=p.type,b=p.resetCredential;if(!m||!u||!f)return h.a.createElement("div",null);var y=[];for(var P in m.format)m.format[P]&&y.push(P);return h.a.createElement("div",{className:t.root},h.a.createElement("span",null,h.a.createElement(M.a,{id:"password.passwordRules",defaultMessage:"Password rules"})),h.a.createElement(o.a,{className:t.row},h.a.createElement(d.a,{span:5,className:t.label},h.a.createElement(M.a,{id:"password.minimumPasswordLength",defaultMessage:"Minimum password length"})),h.a.createElement(d.a,{span:17,offset:1},h.a.createElement(c.a,{min:1,max:32,defaultValue:m.minLength,parser:function(e){return e.replace(/[^\d]/g,"")},onChange:function(a){e.setState({minLength:a})}}),h.a.createElement(M.a,{id:"password.aCharacter",defaultMessage:"Characters"}),!f&&h.a.createElement(M.a,{id:"password.length.null",defaultMessage:"Minimum password length can't be empty"},function(e){return h.a.createElement("span",{className:"warn"},e)}),h.a.createElement("p",{className:t.desc},h.a.createElement(M.a,{id:"password.text.limitPasswordLength",defaultMessage:"Password length should be between 8 and 32."})))),h.a.createElement(o.a,{className:t.row},h.a.createElement(d.a,{span:5,className:t.label},h.a.createElement(M.a,{id:"password.thePasswordContainsAtLeastOne",defaultMessage:"Password should contain at least"})),h.a.createElement(d.a,{span:17,offset:1},h.a.createElement(i.a.Group,{className:t.checkbox,onChange:function(a){e.setState({format:{lowercase:a.indexOf("lowercase")>-1,capital:a.indexOf("capital")>-1,digit:a.indexOf("digit")>-1,symbol:a.indexOf("symbol")>-1}})},defaultValue:y},h.a.createElement(o.a,null,h.a.createElement(d.a,{span:24},h.a.createElement(i.a,{value:"lowercase"},h.a.createElement(M.a,{id:"password.lowercase",defaultMessage:"Lowercase letters"})))),h.a.createElement(o.a,null,h.a.createElement(d.a,{span:24},h.a.createElement(i.a,{value:"capital"},h.a.createElement(M.a,{id:"passworld.capital",defaultMessage:"Uppercase letters"})))),h.a.createElement(o.a,null,h.a.createElement(d.a,{span:24},h.a.createElement(i.a,{value:"digit"},h.a.createElement(M.a,{id:"passworld.number",defaultMessage:"Digital number"})))),h.a.createElement(o.a,null,h.a.createElement(d.a,{span:24},h.a.createElement(i.a,{value:"symbol"},h.a.createElement(M.a,{id:"password.specialCharacterSpaceDivision",defaultMessage:"Special characters (no space)"}))))))),h.a.createElement(o.a,{className:t.row},h.a.createElement(d.a,{span:5,className:t.label},h.a.createElement(M.a,{id:"password.passwordValidity",defaultMessage:"Password validity"})),h.a.createElement(d.a,{span:17,offset:1},h.a.createElement(c.a,{min:0,max:12,parser:function(e){return e.replace(/[^\d]/g,"")},defaultValue:m.lifetime,onChange:function(a){return e.setState({lifetime:a})}}),h.a.createElement(M.a,{id:"password.month",defaultMessage:"Months"}),!w&&0!==w&&h.a.createElement(M.a,{id:"password.validity.null",defaultMessage:"Password validity can't be empty"},function(e){return h.a.createElement("span",{className:"warn"},e)}),h.a.createElement("p",{className:t.desc},h.a.createElement(M.a,{id:"password.text.limitPasswordExpiration",defaultMessage:" Set password expiration date, 0 means valid forever, max 12 months. Before expiration, send 5 times notification to user: 1 month before, 1 week before, last 3 days."})))),h.a.createElement(o.a,{className:t.row},h.a.createElement(d.a,{span:5,className:t.label},h.a.createElement(M.a,{id:"password.maxRetries",defaultMessage:"Max retry count"})),h.a.createElement(d.a,{span:17,offset:1},h.a.createElement(c.a,{min:0,defaultValue:m.failCount,parser:function(e){return e.replace(/[^\d]/g,"")},onChange:function(a){return e.setState({failCount:a})}})," ",h.a.createElement(M.a,{id:"password.times",defaultMessage:"Times"}),!E&&0!==E&&h.a.createElement(M.a,{id:"password.repeat.null",defaultMessage:"Max retry count can't be empty"},function(e){return h.a.createElement("span",{className:"warn"},e)}),h.a.createElement("p",{className:t.desc},h.a.createElement(M.a,{id:"password.text.limitTheNumberOfPasswordRetryErrors",defaultMessage:"Max password retry cound, default 10, account will be locked after retry cound, 0 means no limit."})))),h.a.createElement(o.a,{className:t.row},h.a.createElement(d.a,{span:5,className:t.label},h.a.createElement(M.a,{id:"password.resetPasswordPolicy",defaultMessage:"Reset password policy"})),h.a.createElement(d.a,{span:17,offset:1},h.a.createElement(l.a.Group,{onChange:function(a){e.setState({type:a.target.value})},defaultValue:m.type},h.a.createElement(l.a,{className:t.radio,value:"AUTO_GENERATE"},h.a.createElement(M.a,{id:"password.randomPassword",defaultMessage:"Random password"})),h.a.createElement(l.a,{className:t.radio,value:"MANUAL_GENERATE"},h.a.createElement(M.a,{id:"password.fixedPassword",defaultMessage:"Fixed password"}),"MANUAL_GENERATE"===g&&h.a.createElement(n.a,{style:{width:100,marginLeft:10},maxLength:32,onChange:function(a){return e.setState({resetCredential:a.target.value})},defaultValue:b}),"MANUAL_GENERATE"===g&&!b&&h.a.createElement(M.a,{id:"password.reset.null",defaultMessage:"Fixed password can't be empty"},function(e){return h.a.createElement("span",{className:"warn"},e)}))),h.a.createElement("p",{className:t.desc},h.a.createElement(M.a,{id:"password.text.limitPasswordLength",defaultMessage:"Password length should be between 8 and 32."})))),this.isShowByResourcesLabel("credential_update")&&h.a.createElement("div",null,h.a.createElement(r.a,{dashed:!0}),h.a.createElement(s.a,{type:"primary",disabled:!f||!w&&0!==w||!E&&0!==E||"MANUAL_GENERATE"===g&&!b,onClick:this.save},h.a.createElement(M.a,{id:"action.applicationModify",defaultMessage:"Application modify"}))))}}]),a}(h.a.Component);a.default=Object(b.a)(function(e){return{root:{margin:"20px",backgroundColor:"#FFFFFF",padding:"30px 20px","& .warn":{display:"inline-block",paddingLeft:"10px",color:"red"}},row:{padding:"15px 30px 0"},label:{textAlign:"end"},desc:{color:"#999BA2"},radio:{display:"block !important",height:"30px",lineHeight:"30px"},checkbox:{width:"100%","& .ant-col":{marginBottom:"12px"}}}})(Object(y.b)(function(e){var a=e.password_policies;return{password_policies:a.password_policies,putPasswordPolicies:a.putPasswordPolicies,resourcesLabel:e.app.resourcesLabel,locale:e.intl.locale}},function(e){var a=e.password_policies;return{getPasswordPolicies:a.getPasswordPolicies,putPasswordPolicies:a.putPasswordPolicies,resetPasswordPoliciess:a.resetPasswordPoliciess}})(P))}}]);
//# sourceMappingURL=passwordPoliciesMgr.5d1af61e.chunk.js.map