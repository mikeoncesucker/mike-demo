(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{778:function(e,t,s){e.exports={search_container:"src-routes-search-style-module__search_container--38vm4",search_content:"src-routes-search-style-module__search_content--jvKTU",message:"src-routes-search-style-module__message--3AS54",result:"src-routes-search-style-module__result--gKWvK",content:"src-routes-search-style-module__content--6_lJ8",pagination:"src-routes-search-style-module__pagination--19Fgh",result_item:"src-routes-search-style-module__result_item--3MSf3",result_item_title:"src-routes-search-style-module__result_item_title--2j_7N",result_item_desc:"src-routes-search-style-module__result_item_desc--1rKkM",source_data:"src-routes-search-style-module__source_data--1sRyi",hr:"src-routes-search-style-module__hr--2zfjL",result_item_extend:"src-routes-search-style-module__result_item_extend--3mlN8",leftMore:"src-routes-search-style-module__leftMore--ia2C7",leftAlign:"src-routes-search-style-module__leftAlign--2jzA7",ciyun:"src-routes-search-style-module__ciyun--1xBDe",list:"src-routes-search-style-module__list--14Jug",item:"src-routes-search-style-module__item--AjD4B",left:"src-routes-search-style-module__left--2nE7y",right:"src-routes-search-style-module__right--1EQXD",slider:"src-routes-search-style-module__slider--1ahm8",prev:"src-routes-search-style-module__prev--2HPxY",next:"src-routes-search-style-module__next--1DxUZ",opc:"src-routes-search-style-module__opc--Is_zB",item_content:"src-routes-search-style-module__item_content--1rCm-",name:"src-routes-search-style-module__name--1uTOW",info_item:"src-routes-search-style-module__info_item--3IJ0S",event_content:"src-routes-search-style-module__event_content--3FGiX",steps:"src-routes-search-style-module__steps--AcxjH",description:"src-routes-search-style-module__description--1scc1",stepList:"src-routes-search-style-module__stepList--3BVCB",info:"src-routes-search-style-module__info--hwqrm",table:"src-routes-search-style-module__table--1MwGD",circle:"src-routes-search-style-module__circle--1pIpV",popup:"src-routes-search-style-module__popup--2tB2a",popup_content:"src-routes-search-style-module__popup_content--2-qhg",fix_popup:"src-routes-search-style-module__fix_popup--1z-hV",head:"src-routes-search-style-module__head--3muap"}},789:function(e,t,s){"use strict";s.d(t,"a",function(){return l});var a=s(40),l=Object(a.c)({search_key:{id:"search_key",defaultMessage:"Please enter keyword"},search_msg_pre:{id:"search_msg_pre",defaultMessage:"Results found"},search_msg_suffix:{id:"search_msg_suffix",defaultMessage:"related"},search_result_count:{id:"search_result_count",defaultMessage:"items"},search_hot:{id:"search_hot",defaultMessage:"Search hotspots"},sex:{id:"sex",defaultMessage:"Gender"},tel:{id:"tel",defaultMessage:"Telephone"},branch:{id:"branch",defaultMessage:"Branch"},job:{id:"job",defaultMessage:"Position"},account:{id:"account",defaultMessage:"Account"},event_detail:{id:"event_detail",defaultMessage:"Event detail"},event_info:{id:"event_info",defaultMessage:"General information"},event_success:{id:"event_success",defaultMessage:"Success"},event_fail:{id:"event_fail",defaultMessage:"Fail"},event_id:{id:"event_id",defaultMessage:"Event ID"},event_name:{id:"event_name",defaultMessage:"Source System"},event_type:{id:"event_type",defaultMessage:"Event type"},event_level:{id:"event_level",defaultMessage:"Event level"},event_title:{id:"event_title",defaultMessage:"Event title"},event_target:{id:"event_target",defaultMessage:"Notification object"},event_message:{id:"event_message",defaultMessage:"Push status (SMS)"},event_happen:{id:"event_happen",defaultMessage:"Occurrence time"},event_receive:{id:"event_receive",defaultMessage:"Receiving time"},event_portal:{id:"event_portal",defaultMessage:"Push status (Portal)"},event_deal:{id:"event_deal",defaultMessage:"Timeout"},event_circle:{id:"event_circle",defaultMessage:"Processing step"},event_send:{id:"event_send",defaultMessage:"Push time"},event_des:{id:"event_des",defaultMessage:"Description"},describe_details:{id:"describe_details",defaultMessage:"Description detail"},view_details:{id:"view_details",defaultMessage:"View details"},event_link:{id:"event_link",defaultMessage:"Progress"}})},822:function(e,t,s){var a={"./failed_en.png":936,"./failed_zh.png":937};function l(e){var t=n(e);return s(t)}function n(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=n,e.exports=l,l.id=822},887:function(e,t){},936:function(e,t,s){e.exports=s.p+"static/media/failed_en.d0a6e82a.png"},937:function(e,t,s){e.exports=s.p+"static/media/failed_zh.d2e94351.png"},946:function(e,t,s){"use strict";s.r(t);s(774);var a=s(777),l=s(26),n=s(27),r=s(29),i=s(28),c=s(30),o=(s(883),s(938)),u=s(0),d=s(55),m=s(825),p=(s(818),s(766)),_=s(759),g=s(139),v=s(767),h=s(778),f=s.n(h),y=s(40),E=s(789),b=s(112),S=o.a.Step,L=function(e){function t(e){var s;return Object(l.a)(this,t),(s=Object(r.a)(this,Object(i.a)(t).call(this,e))).play=function(e){for(var t=document.getElementsByTagName("video"),s=0;s<t.length;s++)e!==s&&t[s].pause()},s.state={detail_popup:!1},s}return Object(c.a)(t,e),Object(n.a)(t,[{key:"componentWillMount",value:function(){var e,t=this.props,s=t.getDetailById,a=t.getTypeList,l=t.getLevelList,n=t.getStatusList,r=t.location;r.state&&r.state.id?(e=r.state.id,sessionStorage.setItem("eventId",r.state.id)):e=sessionStorage.getItem("eventId"),a({cb:null}),l({cb:null}),n({cb:null}),s({id:e,cb:null})}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.resetDetails,s=e.resetAppCodeLists,a=e.resetTypeLists,l=e.resetLevelLists,n=e.resetStatusLists;t(),s(),a(),l(),n()}},{key:"componentDidUpdate",value:function(){if(this.props.detail.videos)for(var e=document.getElementsByTagName("video"),t=0;t<e.length;t++)Object(m.a)("myVideo"+t)}},{key:"render",value:function(){var e=this,t=this.props,l=t.history,n=t.intl,r=t.detail,i=t.appCodeList,c=t.typeList,d=t.levelList,m=t.statusList,h=n.formatMessage,y=this.state.detail_popup,L=i.find(function(e){return e.code===r.appCode})||{},M=c.find(function(e){return e.id===r.typeId})||{},N=d.find(function(e){return e.code===r.level})||{},k=m.find(function(e){return e.code===r.status})||{},w=r.forwardLog||[],j=JSON.parse(r.images||"[]"),O=JSON.parse(r.videos||"[]"),D=r.list||[],B=(5!==k.code?m.length&&m.slice(0,5).map(function(e,t){var s=D.find(function(t){return e.code===t.currStatus});return{status:"zh"===n.locale?e.label+"\u73af\u8282":e.english,logTime:s?new Date(+new Date(new Date(s.logTime).toJSON())+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,""):null,overtime:s?s.overtime:null}}):m.length&&D.map(function(e,t){return{status:"zh"===n.locale?m[e.currStatus].label+"\u73af\u8282":m[e.currStatus].english,logTime:new Date(+new Date(new Date(e.logTime).toJSON())+288e5).toISOString().replace(/T/g," ").replace(/\.[\d]{3}Z/,""),overtime:e.overtime}}))||[];return u.createElement(a.a,null,u.createElement(p.a,{history:l,intl:n}),u.createElement(v.a,{name:b.a.btn_search,title:E.a.event_detail,jump:"search",intl:n}),y?u.createElement("div",{className:f.a.popup_content},u.createElement("div",{className:f.a.fix_popup},u.createElement("div",{className:f.a.head},u.createElement("span",null,h(E.a.describe_details)),u.createElement("span",{onClick:function(){e.setState({detail_popup:!1})}},h(b.a.close))),u.createElement("div",{className:f.a.content},u.createElement("p",null,r.message),j.map(function(e,t){return u.createElement("img",{src:e,alt:"",key:t,width:"100%",style:{background:"url(".concat(s(822)("./failed_"+n.locale+".png"),") center no-repeat"),backgroundSize:"5rem 2.5rem"}})}),O.map(function(t,s){return u.createElement("video",{key:s,style:{width:"100%",height:"2.92rem",marginBottom:".1rem"},id:"myVideo"+s,className:"video-js vjs-big-play-centered",controls:!0,preload:"auto","data-setup":"{}",poster:t.images,onPlay:e.play.bind(e,s)},u.createElement("source",{src:t.url}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u89c6\u9891\u64ad\u653e")})))):null,u.createElement("div",{className:f.a.event_content},u.createElement("div",{className:f.a.steps},u.createElement("h4",null,h(E.a.event_link)),D.length?u.createElement(o.a,{progressDot:!0,current:D[D.length-1].currStatus,labelPlacement:"vertical",className:f.a.stepList},B.map(function(e,t){return u.createElement(S,{className:e.logTime?"":"noexist",title:e.status,description:e.logTime?u.createElement("div",{className:f.a.description},u.createElement("p",null,u.createElement("span",{style:{background:0===e.overtime?"#02B583":"#FC5B5B"}}),h(0===e.overtime?E.a.event_success:E.a.event_fail)),u.createElement("p",null,e.logTime)):null,key:t})})):null),u.createElement("div",{className:f.a.table},u.createElement("h3",{className:f.a.info},h(E.a.event_info)),u.createElement("table",null,u.createElement("tbody",null,u.createElement("tr",null,u.createElement("td",null,h(E.a.event_id)),u.createElement("td",null,r.traceId),u.createElement("td",null,h(E.a.event_name)),u.createElement("td",null,"zh"===n.locale?L.name:L.english),u.createElement("td",null,h(E.a.event_type)),u.createElement("td",null,"zh"===n.locale?M.name:M.english)),u.createElement("tr",null,u.createElement("td",null,h(E.a.event_level)),u.createElement("td",null,u.createElement("div",{className:f.a.circle},u.createElement("span",{style:{background:N.color}}),"zh"===n.locale?N.label:N.english)),u.createElement("td",null,h(E.a.event_title)),u.createElement("td",null,r.title),u.createElement("td",null,h(E.a.event_message)),u.createElement("td",null,w.map(function(e){return 0===e.fwType&&u.createElement("div",{className:f.a.circle,key:e.fwResult},u.createElement("span",{style:{background:"SUCCESS"===e.fwResult?"#02B583":"#F54238"}}),h("SUCCESS"===e.fwResult?E.a.event_success:E.a.event_fail))}))),u.createElement("tr",null,u.createElement("td",null,h(E.a.event_happen)),u.createElement("td",null,r.occurTime),u.createElement("td",null,h(E.a.event_receive)),u.createElement("td",null,r.logTime),u.createElement("td",null,h(E.a.event_portal)),u.createElement("td",null,w.map(function(e){return 1===e.fwType&&u.createElement("div",{className:f.a.circle,key:e.fwResult},u.createElement("span",{style:{background:"SUCCESS"===e.fwResult?"#02B583":"#F54238"}}),h("SUCCESS"===e.fwResult?E.a.event_success:E.a.event_fail))}))),u.createElement("tr",null,u.createElement("td",null,h(E.a.event_circle)),u.createElement("td",null,u.createElement("div",{className:f.a.circle},"zh"===n.locale?k.label:k.english)),u.createElement("td",null,h(E.a.event_deal)),u.createElement("td",null,Object.keys(r).length?u.createElement("div",{className:f.a.circle},0===r.overtime?"zh"===n.locale?"\u5426":"No":"zh"===n.locale?"\u662f":"Yes"):null),u.createElement("td",null,h(E.a.event_send)),u.createElement("td",null,w[0]?w[0].fwTime:null)),u.createElement("tr",null,u.createElement("td",null,h(E.a.event_target)),u.createElement("td",{colSpan:5},w.map(function(e,t){return 0===t&&e.targets}))),u.createElement("tr",null,u.createElement("td",null,h(E.a.event_des)),u.createElement("td",{colSpan:5},r.message,u.createElement(_.a,{image:r.images,video:r.videos}),O.length||j.length?u.createElement("p",{className:f.a.popup,onClick:function(){e.setState({detail_popup:!0})}},h(E.a.view_details)," >"):null)))))),u.createElement(g.a,{intl:n,bg:"#213571"}))}}]),t}(u.Component);t.default=Object(d.b)(function(e){var t=e.search;return{detail:t.detail,levelList:t.levelList,statusList:t.statusList,appCodeList:t.appCodeList,typeList:t.typeList}},function(e){var t=e.search;return{getDetailById:t.getDetailById,getTypeList:t.getTypeList,getLevelList:t.getLevelList,getStatusList:t.getStatusList,resetDetails:t.resetDetails,resetAppCodeLists:t.resetAppCodeLists,resetTypeLists:t.resetTypeLists,resetLevelLists:t.resetLevelLists,resetStatusLists:t.resetStatusLists}})(Object(y.d)(L))},951:function(e,t,s){"use strict";s.r(t);s(774);var a=s(777),l=(s(768),s(772)),n=s(26),r=s(27),i=s(29),c=s(28),o=s(30),u=s(0),d=s(55),m=s(766),p=s(759),_=s(139),g=s(34),v=s.n(g),h=s(825),f=s(798),y=s.n(f),E=(s(818),s(767)),b=s(40),S=Object(b.c)({message:{id:"message",defaultMessage:"Message"},msg_detail:{id:"msg_detail",defaultMessage:"Message detail"}}),L=s(112),M=["#02B583","#08ABF8","#FFC000","#FC5B5B"],N=function(e){function t(e){var s;return Object(n.a)(this,t),(s=Object(i.a)(this,Object(c.a)(t).call(this,e))).delete=function(e,t){t.stopPropagation();var a=s.props,l=a.putDeleteById,n=a.history;l({id:e,cb:function(){n.push("../notice")}})},s.play=function(e){for(var t=document.getElementsByTagName("video"),s=0;s<t.length;s++)e!==s&&t[s].pause()},s.state={},s}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e,t=this.props,s=t.getReadById,a=t.location,l="zh"===v.a.get("local_language")?"chinese":"english";a.state&&a.state.id?(e=a.state.id,sessionStorage.setItem("noticeId",a.state.id)):e=sessionStorage.getItem("noticeId"),s({query:{id:e,language:l},cb:null})}},{key:"componentWillUnmount",value:function(){this.props.resetDetails()}},{key:"componentDidUpdate",value:function(){if(this.props.detail.videos)for(var e=document.getElementsByTagName("video"),t=0;t<e.length;t++)Object(h.a)("myVideo"+t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.history,r=t.intl,i=t.detail,c=t.appCodeList,o=r.formatMessage,d=c.find(function(e){return e.code===i.appCode})||{},g=JSON.parse(i.images||"[]")||[],v=JSON.parse(i.videos||"[]")||[];return u.createElement(a.a,null,u.createElement(m.a,{history:n,intl:r,show:!0}),u.createElement(E.a,{name:S.message,title:S.msg_detail,jump:"notice",intl:r}),u.createElement("div",{className:y.a.detail_item},u.createElement("div",{className:y.a.detail_title},u.createElement(l.a,{color:M[i.level]})," ",i.title||"",u.createElement(p.a,{image:i.images,video:i.videos})),u.createElement("div",{className:y.a.detail_des},u.createElement("p",null,i.message||""),u.createElement("div",{className:y.a.source_time},u.createElement("p",{className:y.a.source},o(L.a.origin),": ","zh"===r.locale?d.name:d.english),u.createElement("p",null,i.occurTime),u.createElement("p",{className:y.a.deletes,onClick:this.delete.bind(this,i.id)},o(L.a.delete))),g.map(function(e,t){return u.createElement("img",{src:e,alt:"",key:t,width:"650",height:"358",style:{display:"block",background:"url(".concat(s(822)("./failed_"+r.locale+".png"),") center no-repeat"),backgroundSize:"100%"}})}),u.createElement("div",{style:{width:650,overflow:"hidden"}},v.map(function(t,s){return u.createElement("div",{style:{width:650,height:358,marginBottom:10},key:s},u.createElement("video",{id:"myVideo"+s,className:"video-js vjs-big-play-centered",controls:!0,preload:"auto","data-setup":"{}",style:{width:"100%",height:"100%"},poster:t.images,onPlay:e.play.bind(e,s)},u.createElement("source",{src:t.url}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\u89c6\u9891\u64ad\u653e"))})))),u.createElement(_.a,{intl:r,bg:"#213571"}))}}]),t}(u.Component);t.default=Object(d.b)(function(e){return{detail:e.notice.detail,appCodeList:e.search.appCodeList}},function(e){var t=e.notice;return{putDeleteById:t.putDeleteById,getReadById:t.getReadById,resetDetails:t.resetDetails}})(Object(b.d)(N))}}]);
//# sourceMappingURL=detail.0c4713aa.chunk.js.map