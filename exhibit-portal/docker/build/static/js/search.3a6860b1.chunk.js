(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{759:function(e,t,a){"use strict";var n=a(26),s=a(27),r=a(29),c=a(28),l=a(30),o=a(0),i=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.image,n=e.video;return o.createElement("span",null,JSON.parse(t||"[]").length>0&&o.createElement("img",{src:a(760),alt:""}),JSON.parse(n||"[]").length>0&&o.createElement("img",{src:a(761),alt:""}))}}]),t}(o.Component);t.a=i},760:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAABn0lEQVQ4T63TP0gcQRgF8Pf2WHctLCwkRRqNHjYqqULKSBCEYCTFKkFRQZRTkoiEgE2KWNpYBO6UIASr6IEgNnZCKgv/gJbnv1ZDINi4K3f7ZBYOzLF7eOB0M3zz430fM8QjLRqnPh9sCuoDEO1rWCK4deM5/dFFN++HIEcUarcGBLT4EtKq77lWGZKEdDDgnmTP9BbCqEVsZp5xtRrsrPttJAq+5/I/KNvlXAY2Li0iFwpTxRCdn9I8jcNW/qhheid4EgutvHaurv/hisQPCZMW0JFpZaESyp1qTsDQ7H7wLhYyrS0V1C8LwyS24lqLEOJLWELP58PgOhGqNpP7yIc0DxJnZBIZKHuhNyjhq53C+4lmnpuzSsScVYUiJMQagSMJT+0UXhVLGCy3Y5KUUydCiy+cdoNYxDj/YqPUiF8AukHIzOQ+kpjITqF94bnzm8RMpoVrpnB5T3axEfNWCutTzTysnF9iorkm5+JbN4sPfd1x0C2InxKOH4qYOhKdEMZ8z62LXraT9z+S7IVU26clJWk78NzvtV2sEvfRoDui8/QSbQm+4gAAAABJRU5ErkJggg=="},761:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAABVklEQVQ4T61TsUoDQRB9b+8SG39BrIQIET9BxCtUSDoLKwsrUSzsBYONjQjRziKVXRoP1OYaP0GMELAWgpDGIGhytyN7yd3FiEcObppl2bdv5s28IXIKGp6+69wQsg0wvE8fIiQbdsXbDT8OXMcXylEB6sUX8WyxFtLIfAavNuloyKIILuyqV4iIJPpsQIWql1rZwHX+4PMnAng6lCPHUUXyfD6H8scbWdPjUk1Fk/i4IgCPI/BKQnR5B2IeGjUsHTRJyqin5vyFT5WmW/V7CDZGCZ5Ia53l/U7mHiVE8inCK9XtnnC19pVKNN6DWFqrfq219JQUz7i89x5hhj1KwuATaaRjnoyPphr/BD7/8QcSlGZQDLIY8ht9y6LVjqX5rtMD5EGg2sZHCjhMWxEN1I2PCF0CuWlXvNlQmn+7tgPFLRGq6Rc2NK+QaNoVr5Fx2/9PkxvRD7HW7hLWAq8mAAAAAElFTkSuQmCC"},762:function(e,t,a){"use strict";a(783);var n=a(788),s=(a(174),a(16)),r=(a(768),a(772)),c=(a(784),a(786)),l=(a(785),a(787)),o=a(26),i=a(27),u=a(29),m=a(28),d=a(240),p=a(30),h=a(0),_=a(55),g=a(759),f=a(763),v=a.n(f),y=a(4),E=a.n(y),b=a(34),N=a.n(b),A=a(112),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).notice_timer=void 0,a.getUnreadNoticeList=function(){var e=N.a.get("local_language"),t=a.props,n=t.getUnreadNoticeList,s=t.getAppCodeList;n({language:"zh"===e?"chinese":"english",cb:null}),s({cb:null})},a.resetNoticeRead=function(){(0,a.props.resetNoticeRead)({cb:function(){a.getUnreadNoticeList()}})},a.goNoticeList=function(){a.props.history.push("/notice")},a.toDetail=function(e){a.props.history.push({pathname:"/notice/detail",state:{id:e}})},a.list=function(){var e=a.props,t=e.unreadNoticeList,n=e.appCodeList,o=e.intl,i=o.formatMessage,u=["#02B583","#08ABF8","#FFC000","#FC5B5B"];return t&&!t.count?h.createElement("div",{className:v.a.content},h.createElement("div",{className:v.a.notice_kong},i(A.a.no_message)),h.createElement(c.a,{className:v.a.listFooter},h.createElement(l.a,{style:{textAlign:"right",cursor:"pointer"},span:24,onClick:a.goNoticeList},i(A.a.read_all)," >"))):h.createElement("div",{className:v.a.content},h.createElement("div",{className:v.a.listBox},t&&t.noticeEntities.map(function(e,t){var s=n.find(function(t){return t.code===e.appCode})||{};return t<5&&h.createElement(c.a,{className:v.a.noticItem,key:t,onClick:a.toDetail.bind(Object(d.a)(a),e.id)},h.createElement(l.a,{span:1},h.createElement(r.a,{color:u[e.level]})),h.createElement(l.a,{span:23},h.createElement(l.a,{className:E()(v.a.title,"haveRead"===e.status?v.a.readed:v.a.title_unread),span:24},h.createElement("span",{className:v.a.name},e.title),h.createElement(g.a,{image:e.images,video:e.videos})),h.createElement("p",{className:E()(v.a.txt,"haveRead"===e.status?v.a.readed:v.a.txt_unread)},e.message),h.createElement(c.a,{className:v.a.noticeBtm},h.createElement(l.a,{span:12,className:v.a.origin},i(A.a.origin),":","zh"===o.locale?s.name:s.english),h.createElement(l.a,{span:12,className:v.a.noticeTime},e.occurTime))))}),h.createElement(c.a,{className:v.a.listFooter},h.createElement(l.a,{style:{textAlign:"left",cursor:"pointer"},span:12},h.createElement("p",null,h.createElement(s.a,{type:"check",className:v.a.font}),h.createElement("span",{onClick:a.resetNoticeRead},i(A.a.readed)))),h.createElement(l.a,{style:{textAlign:"right",cursor:"pointer"},span:12,onClick:a.goNoticeList},h.createElement("p",null,i(A.a.read_all)," >")))))},a.state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getUnreadNoticeList(),this.notice_timer=setInterval(function(){e.getUnreadNoticeList()},6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.notice_timer),this.props.resetNoticeLists()}},{key:"render",value:function(){var e=this.props,t=e.unreadNoticeList,a=e.show,s=h.createElement("span",{className:E()("iconfont icon-notice",v.a.ml18,v.a.icon_notice)},t&&t.count?t.count<=99?h.createElement("label",{className:v.a.notice_num},t.count):h.createElement("label",{className:v.a.notice_num},"99+"):null);return h.createElement("div",null,a?s:h.createElement(n.a,{placement:"bottomLeft",content:this.list(),trigger:"hover"},s))}}]),t}(h.Component);t.a=Object(_.b)(function(e){return{unreadNoticeList:e.common.unreadNoticeList,appCodeList:e.search.appCodeList}},function(e){var t=e.common,a=t.getUnreadNoticeList,n=t.resetNoticeRead,s=t.resetNoticeLists;return{getUnreadNoticeList:a,getAppCodeList:e.search.getAppCodeList,resetNoticeRead:n,resetNoticeLists:s}})(x)},763:function(e,t,a){e.exports={icon_notice:"src-components-news-style-module__icon_notice--1apwh",notice_num:"src-components-news-style-module__notice_num--1LpjW","ant-popover-inner-content":"src-components-news-style-module__ant-popover-inner-content--1xqbl",content:"src-components-news-style-module__content--2eOU0",notice_kong:"src-components-news-style-module__notice_kong--J6ON5",listFooter:"src-components-news-style-module__listFooter--2G9Na",noticItem:"src-components-news-style-module__noticItem--3meZw",title:"src-components-news-style-module__title--KoMJa",name:"src-components-news-style-module__name--2y33O",title_unread:"src-components-news-style-module__title_unread--1FyOT",readed:"src-components-news-style-module__readed--m0ljQ",txt_unread:"src-components-news-style-module__txt_unread--2ydLy",txt:"src-components-news-style-module__txt--21dUm",noticeBtm:"src-components-news-style-module__noticeBtm--2DUkT",noticeTime:"src-components-news-style-module__noticeTime--1nZkX",origin:"src-components-news-style-module__origin--2tQb5",font:"src-components-news-style-module__font--NyWzg"}},764:function(e,t,a){"use strict";a(773);var n=a(791),s=(a(782),a(781)),r=(a(174),a(16)),c=(a(175),a(39)),l=a(26),o=a(27),i=a(29),u=a(28),m=a(30),d=(a(769),a(771)),p=a(0),h=a(55),_=a(34),g=a.n(_),f=a(765),v=a.n(f),y=a(112),E=d.a.confirm,b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).logout=function(){var e=a.props,t=e.logout,n=e.history,s=g.a.get("accessToken")||"",r=a.props.intl.formatMessage;E({title:r(y.a.confirm_txt),okText:r(y.a.btn_sure),cancelText:r(y.a.btn_cancel),onOk:function(){t({params:{accessToken:s},cb:function(e,t){t&&"200"===t.status.code?(g.a.remove("accessToken"),c.a.success(r(y.a.message_back)),n.push("/login")):(g.a.remove("accessToken"),n.push("/login"))}})},onCancel:function(){}})},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.props,c=a.user,l=a.show,o=p.createElement(s.b,{selectedKeys:[]},p.createElement(s.b.Item,{key:"password",onClick:function(){e.props.history.push("/password")}},p.createElement(r.a,{type:"lock"}),t(y.a.change_psw)),p.createElement(s.b.Item,{key:"logout",onClick:this.logout},p.createElement(r.a,{type:"logout"}),t(y.a.logout))),i=p.createElement("label",{className:"".concat(v.a.action," ").concat(v.a.account)},p.createElement("span",{className:"iconfont icon-principal"}),p.createElement("span",{className:v.a.text_hide},c.data.user.name),p.createElement("span",{className:"iconfont icon-down"}));return p.createElement("div",null,l?i:p.createElement(n.a,{overlay:o},i))}}]),t}(p.Component);t.a=Object(h.b)(function(e){return{user:e.user.user}},function(e){return{logout:e.user.logout}})(b)},765:function(e,t,a){e.exports={action:"src-components-center-style-module__action--1i1TO",text_hide:"src-components-center-style-module__text_hide--1GPmT",account:"src-components-center-style-module__account--3kvlp"}},766:function(e,t,a){"use strict";var n=a(26),s=a(27),r=a(29),c=a(28),l=a(30),o=a(0),i=a(764),u=a(775),m=a.n(u),d=a(762),p=a(140),h=a(113),_=a(239),g=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).resetQuery=function(){_.a.dispatch.notice.resetQuery()},a.state={},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.history,n=e.intl,s=e.show;return o.createElement("header",{className:m.a.header},o.createElement(h.b,{onClick:this.resetQuery,to:"/dashboard"},o.createElement("img",{alt:"logo",src:a(335)})),o.createElement("div",{className:m.a.right},o.createElement(p.a,{styles:{color:"#fff",fontSize:"14px",marginRight:"18px"}}),o.createElement(d.a,{history:t,intl:n,show:s}),o.createElement(i.a,{history:t,intl:n})))}}]),t}(o.Component);t.a=g},767:function(e,t,a){"use strict";a(792);var n=a(800),s=a(26),r=a(27),c=a(29),l=a(28),o=a(30),i=a(0),u=a(947),m=a(113),d=a(112),p=a(239),h=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).resetQuery=function(){p.a.dispatch.notice.resetQuery()},a.state={},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,s=e.intl,r=e.title,c=e.jump,l=s.formatMessage;return i.createElement("div",null,i.createElement("div",{className:t.navbar},i.createElement(n.a,null,i.createElement(n.a.Item,null,i.createElement(m.b,{to:"/dashboard",onClick:this.resetQuery},l(d.a.portal))),i.createElement(n.a.Item,null,c?i.createElement(m.b,{to:"/".concat(c)},l(a)):l(a))),i.createElement("h2",{className:"title"},l(r||a))),i.createElement("div",{style:{border:".1rem solid #f1f3f9"}}))}}]),t}(i.Component);t.a=Object(u.a)(function(e){return{navbar:{height:"98px",padding:"16px 0 0 47px",backgroundColor:"#fff",color:"#5E616F","& .title":{fontSize:"20px",color:"#33353D",lineHeight:"60px"},"& .ant-breadcrumb .ant-breadcrumb-link a":{color:"#5E616F"},"& .ant-breadcrumb .ant-breadcrumb-link a:hover":{color:"#08ABF8"}}}})(h)},775:function(e,t,a){e.exports={header:"src-components-header_bar-style-module__header--2Q1Ap",right:"src-components-header_bar-style-module__right--3pigd"}},778:function(e,t,a){e.exports={search_container:"src-routes-search-style-module__search_container--38vm4",search_content:"src-routes-search-style-module__search_content--jvKTU",message:"src-routes-search-style-module__message--3AS54",result:"src-routes-search-style-module__result--gKWvK",content:"src-routes-search-style-module__content--6_lJ8",pagination:"src-routes-search-style-module__pagination--19Fgh",result_item:"src-routes-search-style-module__result_item--3MSf3",result_item_title:"src-routes-search-style-module__result_item_title--2j_7N",result_item_desc:"src-routes-search-style-module__result_item_desc--1rKkM",source_data:"src-routes-search-style-module__source_data--1sRyi",hr:"src-routes-search-style-module__hr--2zfjL",result_item_extend:"src-routes-search-style-module__result_item_extend--3mlN8",leftMore:"src-routes-search-style-module__leftMore--ia2C7",leftAlign:"src-routes-search-style-module__leftAlign--2jzA7",ciyun:"src-routes-search-style-module__ciyun--1xBDe",list:"src-routes-search-style-module__list--14Jug",item:"src-routes-search-style-module__item--AjD4B",left:"src-routes-search-style-module__left--2nE7y",right:"src-routes-search-style-module__right--1EQXD",slider:"src-routes-search-style-module__slider--1ahm8",prev:"src-routes-search-style-module__prev--2HPxY",next:"src-routes-search-style-module__next--1DxUZ",opc:"src-routes-search-style-module__opc--Is_zB",item_content:"src-routes-search-style-module__item_content--1rCm-",name:"src-routes-search-style-module__name--1uTOW",info_item:"src-routes-search-style-module__info_item--3IJ0S",event_content:"src-routes-search-style-module__event_content--3FGiX",steps:"src-routes-search-style-module__steps--AcxjH",description:"src-routes-search-style-module__description--1scc1",stepList:"src-routes-search-style-module__stepList--3BVCB",info:"src-routes-search-style-module__info--hwqrm",table:"src-routes-search-style-module__table--1MwGD",circle:"src-routes-search-style-module__circle--1pIpV",popup:"src-routes-search-style-module__popup--2tB2a",popup_content:"src-routes-search-style-module__popup_content--2-qhg",fix_popup:"src-routes-search-style-module__fix_popup--1z-hV",head:"src-routes-search-style-module__head--3muap"}},789:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(40),s=Object(n.c)({search_key:{id:"search_key",defaultMessage:"Please enter keyword"},search_msg_pre:{id:"search_msg_pre",defaultMessage:"Results found"},search_msg_suffix:{id:"search_msg_suffix",defaultMessage:"related"},search_result_count:{id:"search_result_count",defaultMessage:"items"},search_hot:{id:"search_hot",defaultMessage:"Search hotspots"},sex:{id:"sex",defaultMessage:"Gender"},tel:{id:"tel",defaultMessage:"Telephone"},branch:{id:"branch",defaultMessage:"Branch"},job:{id:"job",defaultMessage:"Position"},account:{id:"account",defaultMessage:"Account"},event_detail:{id:"event_detail",defaultMessage:"Event detail"},event_info:{id:"event_info",defaultMessage:"General information"},event_success:{id:"event_success",defaultMessage:"Success"},event_fail:{id:"event_fail",defaultMessage:"Fail"},event_id:{id:"event_id",defaultMessage:"Event ID"},event_name:{id:"event_name",defaultMessage:"Source System"},event_type:{id:"event_type",defaultMessage:"Event type"},event_level:{id:"event_level",defaultMessage:"Event level"},event_title:{id:"event_title",defaultMessage:"Event title"},event_target:{id:"event_target",defaultMessage:"Notification object"},event_message:{id:"event_message",defaultMessage:"Push status (SMS)"},event_happen:{id:"event_happen",defaultMessage:"Occurrence time"},event_receive:{id:"event_receive",defaultMessage:"Receiving time"},event_portal:{id:"event_portal",defaultMessage:"Push status (Portal)"},event_deal:{id:"event_deal",defaultMessage:"Timeout"},event_circle:{id:"event_circle",defaultMessage:"Processing step"},event_send:{id:"event_send",defaultMessage:"Push time"},event_des:{id:"event_des",defaultMessage:"Description"},describe_details:{id:"describe_details",defaultMessage:"Description detail"},view_details:{id:"view_details",defaultMessage:"View details"},event_link:{id:"event_link",defaultMessage:"Progress"}})},879:function(e,t,a){},882:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAABWdVznAAAAm0lEQVQoU2NkwAJeOFiEg4QlDpxYiS7NiE3DKyfzayBxsX0ntQhqeOVk1vL/P2M1SCEj4/9WsX2napA1odhw29ycj4+L4SOygk/fGPhVT578BBND0fDK0XzFfwYGsPuRFKwU238yAkPDaycLo3///5/F5icmRkZj0X0nzoGdia7guYOFAxPj//0g8X//GR0lD5w4gNMPIImRoAEAM6JVDemqDKYAAAAASUVORK5CYII="},948:function(e,t,a){"use strict";a.r(t);a(774);var n=a(777),s=(a(807),a(823)),r=(a(241),a(86)),c=(a(174),a(16)),l=a(26),o=a(27),i=a(29),u=a(28),m=a(30),d=a(0),p=a(55),h=a(166),_=a.n(h),g=a(863),f=a(864),v=a.n(f),y=a(766),E=a(767),b=a(139),N=(a(865),a(867)),A=a(34),x=a.n(A),k=a(778),w=a.n(k),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).openUrl=function(e,t){var a=new RegExp(/http[s]{0,1}:\/\/([\w.]+\/?)\S*/),s=x.a.get("accessToken");t&&n.props.history.push({pathname:"search/eventDetail",state:{id:t}}),a.test(e)&&window.open("".concat(e,"?accessToken=").concat(s))},n.iconShow=function(e){if(e)return 1===e?d.createElement("img",{src:a(760),alt:""}):2===e?d.createElement("img",{src:a(761),alt:""}):d.createElement("div",{style:{display:"inline-block"}},d.createElement("img",{src:a(760),alt:""}),d.createElement("img",{src:a(761),alt:""}))},n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data;return d.createElement("div",{className:w.a.result_item,onClick:this.openUrl.bind(this,e.url,e.ucspCenterId)},d.createElement("div",{className:w.a.result_item_title},d.createElement("span",{dangerouslySetInnerHTML:{__html:e.title||""}}),e.extra?this.iconShow.bind(this,1*e.extra)():null),d.createElement("div",{className:w.a.result_item_desc,dangerouslySetInnerHTML:{__html:e.content||""}}),d.createElement("div",{className:w.a.source_data},d.createElement("span",null,e.date),d.createElement(N.a,{type:"vertical",style:{top:"1px"}}),d.createElement("span",null,e.source)))}}]),t}(d.PureComponent),C=a(40),j=a(789),M=a(112),S=a(868),L=a.n(S),I=a(4),T=a.n(I),D=(a(879),a(880),a(881),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).SamplePrev=function(e){var t=e.className,a=e.onClick,n=t.indexOf("slick-disabled")>-1;return d.createElement("div",{className:T()(w.a.prev,n&&w.a.opc),onClick:a},d.createElement(c.a,{type:"left",className:n&&w.a.opc}))},a.SampleNext=function(e){var t=e.className,a=e.onClick,n=t.indexOf("slick-disabled")>-1;return d.createElement("div",{className:T()(w.a.next,n&&w.a.opc),onClick:a},d.createElement(c.a,{type:"right",className:n&&w.a.opc}))},a.state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e={dots:!1,infinite:!1,speed:500,slidesToShow:4,slidesToScroll:4,nextArrow:d.createElement(this.SampleNext,null),prevArrow:d.createElement(this.SamplePrev,null)},t=this.props,a=t.intl,n=t.user,s=a.formatMessage;return d.createElement("div",{className:T()(w.a.slider,n.length>4?w.a.leftMore:w.a.leftAlign)},d.createElement(L.a,e,n.map(function(e,t){return d.createElement("div",{className:w.a.item,key:t},d.createElement("div",{className:w.a.item_content},d.createElement("p",{className:w.a.name,dangerouslySetInnerHTML:{__html:e.name}}),d.createElement("div",{className:w.a.info_item},d.createElement("p",null,s(j.a.sex)),d.createElement("p",null,"\uff1a",e.sex)),d.createElement("div",{className:w.a.info_item},d.createElement("p",null,s(j.a.tel)),d.createElement("p",null,"\uff1a",e.phone)),d.createElement("div",{className:w.a.info_item},d.createElement("p",null,s(j.a.branch)),d.createElement("p",null,"\uff1a",e.organize)),d.createElement("div",{className:w.a.info_item},d.createElement("p",null,s(j.a.job)),d.createElement("p",null,"\uff1a",e.job)),d.createElement("div",{className:w.a.info_item},d.createElement("p",null,s(j.a.account)),d.createElement("p",{title:e.userId},"\uff1a",e.userId))))})))}}]),t}(d.Component)),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getData=function(){var e=a.props,t=e.getData,n=e.intl,s=a.state,r=s.page,c=s.searchName;a.setState({ciyun:!1}),t({query:{searchName:c,page:r,size:5,language:"zh"===n.locale?"chinese":"english"},cb:function(e,t){t&&a.setState({searchName:c,list:t.resultMap.rows,user:t.resultMap.users,count:t.resultMap.totalNum})}})},a.doSearch=function(e){e.length&&a.setState({searchName:e,page:1},function(){a.getData(),a.props.getSaveQueryWord({query:{searchName:e},cb:null})})},a.onChange=function(e){a.setState({page:e},function(){a.getData()})},a.state={searchName:"",list:[],user:[],count:null,page:1,ciyun:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.query;(0,t.getWordCloud)({cb:null}),Object.keys(a).length&&this.setState({page:a.page,searchName:a.searchName},function(){e.getData()})}},{key:"render",value:function(){var e=this,t=this.state,l=t.searchName,o=t.list,i=t.count,u=t.user,m=t.ciyun,p=this.props,h=p.history,f=p.intl,N=p.wordCloud,A=f.formatMessage;g.Shape.registerShape("point","cloud",{drawShape:function(e,t){var a=function(e){return _.a.assign({},e.style,{fillOpacity:e.opacity,fontSize:e.origin._origin.size,rotate:e.origin._origin.rotate,text:e.origin._origin.text,textAlign:"center",fontFamily:e.origin._origin.font,fill:e.color,textBaseline:"Alphabetic"})}(e);return t.addShape("text",{attrs:_.a.assign(a,{x:e.x,y:e.y})})}});var x=(new v.a.View).source(N);if(x.rows.length){var k=x.range("count"),C=k[0],S=k[1];x.transform({type:"tag-cloud",fields:["wordName","count"],size:[500,300],font:"Verdana",padding:0,timeInterval:5e3,rotate:function(){var e=~~(4*Math.random())%4;return 2===e&&(e=0),90*e},fontSize:function(e){if(e.value){var t=S-C!==0?S-C:1;return(e.value-C)/t*56+24}return 0}})}return d.createElement(n.a,{className:"layout"},d.createElement(y.a,{history:h,intl:f}),d.createElement(E.a,{name:M.a.btn_search,intl:f}),d.createElement("div",{className:w.a.search_container},d.createElement("div",{className:w.a.search_content},d.createElement(r.a.Search,{defaultValue:l,placeholder:A(j.a.search_key),enterButton:A(M.a.btn_search),size:"large",allowClear:!0,maxLength:30,prefix:d.createElement(c.a,{type:"search",style:{color:"rgba(0,0,0,.25)"}}),style:{width:720},onSearch:this.doSearch})),l&&d.createElement("div",{className:w.a.message},d.createElement("span",null,A(j.a.search_msg_pre)),d.createElement("span",null,i+u.length),d.createElement("span",null,A(j.a.search_result_count)),d.createElement("span",null,A(j.a.search_msg_suffix))),m?d.createElement("div",{className:w.a.ciyun},d.createElement("div",{style:{width:"500",height:"500",marginLeft:"1.6rem"}},d.createElement(g.Chart,{height:300,width:500,data:x,scale:{x:{nice:!1},y:{nice:!1}},padding:0,forceFit:!0},d.createElement(g.Tooltip,{containerTpl:'<div class="g2-tooltip">\n                    <table class="g2-tooltip-list"></table>\n                    </div>',itemTpl:'<tr class="g2-tooltip-list-item">\n                    <td style="display:block">\n                      <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:{color};"></span>\n                      {value}\n                    </td>\n                      <td style="display:block">\n                        <span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:{color};"></span>\n                        {count}\n                      </td>\n                    </tr>'}),d.createElement(g.Coord,{reflect:"y"}),d.createElement(g.Geom,{type:"point",position:"x*y",color:"count",shape:"cloud",tooltip:["count*wordName",function(e,t){return{value:("zh"===f.locale?"\u641c\u7d22\u8bcd":"name")+": "+t,count:("zh"===f.locale?"\u6b21\u6570":"count")+": "+e}}]}))),N.length?d.createElement("div",{className:w.a.list},d.createElement("h4",null,A(j.a.search_hot)),N.slice(0,11).map(function(t,n){return d.createElement("div",{className:w.a.item,key:n},d.createElement("div",{className:w.a.left},d.createElement("span",null,n+1),d.createElement("p",{onClick:e.doSearch.bind(e,t.wordName)},t.wordName)),d.createElement("p",{className:w.a.right},t.count,d.createElement("img",{src:a(882),alt:""})))})):null):null,d.createElement(D,{user:u,intl:f}),d.createElement("div",{className:w.a.result},d.createElement("div",{className:w.a.content},o.map(function(e,t){return d.createElement(O,{data:e,key:t,history:h})}))),0!==o.length?d.createElement("div",{className:w.a.pagination},d.createElement(s.a,{total:i,showTotal:function(e){return"".concat(A(M.a.total)," ").concat(e," ").concat(A(M.a.count))},onChange:this.onChange,current:this.state.page,pageSize:5})):null),d.createElement(b.a,{intl:f,bg:"#213571"}))}}]),t}(d.Component);t.default=Object(p.b)(function(e){var t=e.search;return{query:t.query,wordCloud:t.wordCloud}},function(e){var t=e.search;return{getData:t.getData,getWordCloud:t.getWordCloud,getSaveQueryWord:t.getSaveQueryWord}})(Object(C.d)(B))}}]);
//# sourceMappingURL=search.3a6860b1.chunk.js.map