(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{759:function(e,t,a){"use strict";var n=a(26),o=a(27),s=a(29),c=a(28),r=a(30),i=a(0),l=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.image,n=e.video;return i.createElement("span",null,JSON.parse(t||"[]").length>0&&i.createElement("img",{src:a(760),alt:""}),JSON.parse(n||"[]").length>0&&i.createElement("img",{src:a(761),alt:""}))}}]),t}(i.Component);t.a=l},760:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAABn0lEQVQ4T63TP0gcQRgF8Pf2WHctLCwkRRqNHjYqqULKSBCEYCTFKkFRQZRTkoiEgE2KWNpYBO6UIASr6IEgNnZCKgv/gJbnv1ZDINi4K3f7ZBYOzLF7eOB0M3zz430fM8QjLRqnPh9sCuoDEO1rWCK4deM5/dFFN++HIEcUarcGBLT4EtKq77lWGZKEdDDgnmTP9BbCqEVsZp5xtRrsrPttJAq+5/I/KNvlXAY2Li0iFwpTxRCdn9I8jcNW/qhheid4EgutvHaurv/hisQPCZMW0JFpZaESyp1qTsDQ7H7wLhYyrS0V1C8LwyS24lqLEOJLWELP58PgOhGqNpP7yIc0DxJnZBIZKHuhNyjhq53C+4lmnpuzSsScVYUiJMQagSMJT+0UXhVLGCy3Y5KUUydCiy+cdoNYxDj/YqPUiF8AukHIzOQ+kpjITqF94bnzm8RMpoVrpnB5T3axEfNWCutTzTysnF9iorkm5+JbN4sPfd1x0C2InxKOH4qYOhKdEMZ8z62LXraT9z+S7IVU26clJWk78NzvtV2sEvfRoDui8/QSbQm+4gAAAABJRU5ErkJggg=="},761:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAARCAYAAADQWvz5AAABVklEQVQ4T61TsUoDQRB9b+8SG39BrIQIET9BxCtUSDoLKwsrUSzsBYONjQjRziKVXRoP1OYaP0GMELAWgpDGIGhytyN7yd3FiEcObppl2bdv5s28IXIKGp6+69wQsg0wvE8fIiQbdsXbDT8OXMcXylEB6sUX8WyxFtLIfAavNuloyKIILuyqV4iIJPpsQIWql1rZwHX+4PMnAng6lCPHUUXyfD6H8scbWdPjUk1Fk/i4IgCPI/BKQnR5B2IeGjUsHTRJyqin5vyFT5WmW/V7CDZGCZ5Ia53l/U7mHiVE8inCK9XtnnC19pVKNN6DWFqrfq219JQUz7i89x5hhj1KwuATaaRjnoyPphr/BD7/8QcSlGZQDLIY8ht9y6LVjqX5rtMD5EGg2sZHCjhMWxEN1I2PCF0CuWlXvNlQmn+7tgPFLRGq6Rc2NK+QaNoVr5Fx2/9PkxvRD7HW7hLWAq8mAAAAAElFTkSuQmCC"},762:function(e,t,a){"use strict";a(783);var n=a(788),o=(a(174),a(16)),s=(a(768),a(772)),c=(a(784),a(786)),r=(a(785),a(787)),i=a(26),l=a(27),d=a(29),m=a(28),u=a(240),h=a(30),g=a(0),p=a(55),f=a(759),b=a(763),_=a.n(b),y=a(4),A=a.n(y),E=a(34),k=a.n(E),v=a(112),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).notice_timer=void 0,a.getUnreadNoticeList=function(){var e=k.a.get("local_language"),t=a.props,n=t.getUnreadNoticeList,o=t.getAppCodeList;n({language:"zh"===e?"chinese":"english",cb:null}),o({cb:null})},a.resetNoticeRead=function(){(0,a.props.resetNoticeRead)({cb:function(){a.getUnreadNoticeList()}})},a.goNoticeList=function(){a.props.history.push("/notice")},a.toDetail=function(e){a.props.history.push({pathname:"/notice/detail",state:{id:e}})},a.list=function(){var e=a.props,t=e.unreadNoticeList,n=e.appCodeList,i=e.intl,l=i.formatMessage,d=["#02B583","#08ABF8","#FFC000","#FC5B5B"];return t&&!t.count?g.createElement("div",{className:_.a.content},g.createElement("div",{className:_.a.notice_kong},l(v.a.no_message)),g.createElement(c.a,{className:_.a.listFooter},g.createElement(r.a,{style:{textAlign:"right",cursor:"pointer"},span:24,onClick:a.goNoticeList},l(v.a.read_all)," >"))):g.createElement("div",{className:_.a.content},g.createElement("div",{className:_.a.listBox},t&&t.noticeEntities.map(function(e,t){var o=n.find(function(t){return t.code===e.appCode})||{};return t<5&&g.createElement(c.a,{className:_.a.noticItem,key:t,onClick:a.toDetail.bind(Object(u.a)(a),e.id)},g.createElement(r.a,{span:1},g.createElement(s.a,{color:d[e.level]})),g.createElement(r.a,{span:23},g.createElement(r.a,{className:A()(_.a.title,"haveRead"===e.status?_.a.readed:_.a.title_unread),span:24},g.createElement("span",{className:_.a.name},e.title),g.createElement(f.a,{image:e.images,video:e.videos})),g.createElement("p",{className:A()(_.a.txt,"haveRead"===e.status?_.a.readed:_.a.txt_unread)},e.message),g.createElement(c.a,{className:_.a.noticeBtm},g.createElement(r.a,{span:12,className:_.a.origin},l(v.a.origin),":","zh"===i.locale?o.name:o.english),g.createElement(r.a,{span:12,className:_.a.noticeTime},e.occurTime))))}),g.createElement(c.a,{className:_.a.listFooter},g.createElement(r.a,{style:{textAlign:"left",cursor:"pointer"},span:12},g.createElement("p",null,g.createElement(o.a,{type:"check",className:_.a.font}),g.createElement("span",{onClick:a.resetNoticeRead},l(v.a.readed)))),g.createElement(r.a,{style:{textAlign:"right",cursor:"pointer"},span:12,onClick:a.goNoticeList},g.createElement("p",null,l(v.a.read_all)," >")))))},a.state={},a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getUnreadNoticeList(),this.notice_timer=setInterval(function(){e.getUnreadNoticeList()},6e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.notice_timer),this.props.resetNoticeLists()}},{key:"render",value:function(){var e=this.props,t=e.unreadNoticeList,a=e.show,o=g.createElement("span",{className:A()("iconfont icon-notice",_.a.ml18,_.a.icon_notice)},t&&t.count?t.count<=99?g.createElement("label",{className:_.a.notice_num},t.count):g.createElement("label",{className:_.a.notice_num},"99+"):null);return g.createElement("div",null,a?o:g.createElement(n.a,{placement:"bottomLeft",content:this.list(),trigger:"hover"},o))}}]),t}(g.Component);t.a=Object(p.b)(function(e){return{unreadNoticeList:e.common.unreadNoticeList,appCodeList:e.search.appCodeList}},function(e){var t=e.common,a=t.getUnreadNoticeList,n=t.resetNoticeRead,o=t.resetNoticeLists;return{getUnreadNoticeList:a,getAppCodeList:e.search.getAppCodeList,resetNoticeRead:n,resetNoticeLists:o}})(C)},763:function(e,t,a){e.exports={icon_notice:"src-components-news-style-module__icon_notice--1apwh",notice_num:"src-components-news-style-module__notice_num--1LpjW","ant-popover-inner-content":"src-components-news-style-module__ant-popover-inner-content--1xqbl",content:"src-components-news-style-module__content--2eOU0",notice_kong:"src-components-news-style-module__notice_kong--J6ON5",listFooter:"src-components-news-style-module__listFooter--2G9Na",noticItem:"src-components-news-style-module__noticItem--3meZw",title:"src-components-news-style-module__title--KoMJa",name:"src-components-news-style-module__name--2y33O",title_unread:"src-components-news-style-module__title_unread--1FyOT",readed:"src-components-news-style-module__readed--m0ljQ",txt_unread:"src-components-news-style-module__txt_unread--2ydLy",txt:"src-components-news-style-module__txt--21dUm",noticeBtm:"src-components-news-style-module__noticeBtm--2DUkT",noticeTime:"src-components-news-style-module__noticeTime--1nZkX",origin:"src-components-news-style-module__origin--2tQb5",font:"src-components-news-style-module__font--NyWzg"}},764:function(e,t,a){"use strict";a(773);var n=a(791),o=(a(782),a(781)),s=(a(174),a(16)),c=(a(175),a(39)),r=a(26),i=a(27),l=a(29),d=a(28),m=a(30),u=(a(769),a(771)),h=a(0),g=a(55),p=a(34),f=a.n(p),b=a(765),_=a.n(b),y=a(112),A=u.a.confirm,E=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).logout=function(){var e=a.props,t=e.logout,n=e.history,o=f.a.get("accessToken")||"",s=a.props.intl.formatMessage;A({title:s(y.a.confirm_txt),okText:s(y.a.btn_sure),cancelText:s(y.a.btn_cancel),onOk:function(){t({params:{accessToken:o},cb:function(e,t){t&&"200"===t.status.code?(f.a.remove("accessToken"),c.a.success(s(y.a.message_back)),n.push("/login")):(f.a.remove("accessToken"),n.push("/login"))}})},onCancel:function(){}})},a.state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.props,c=a.user,r=a.show,i=h.createElement(o.b,{selectedKeys:[]},h.createElement(o.b.Item,{key:"password",onClick:function(){e.props.history.push("/password")}},h.createElement(s.a,{type:"lock"}),t(y.a.change_psw)),h.createElement(o.b.Item,{key:"logout",onClick:this.logout},h.createElement(s.a,{type:"logout"}),t(y.a.logout))),l=h.createElement("label",{className:"".concat(_.a.action," ").concat(_.a.account)},h.createElement("span",{className:"iconfont icon-principal"}),h.createElement("span",{className:_.a.text_hide},c.data.user.name),h.createElement("span",{className:"iconfont icon-down"}));return h.createElement("div",null,r?l:h.createElement(n.a,{overlay:i},l))}}]),t}(h.Component);t.a=Object(g.b)(function(e){return{user:e.user.user}},function(e){return{logout:e.user.logout}})(E)},765:function(e,t,a){e.exports={action:"src-components-center-style-module__action--1i1TO",text_hide:"src-components-center-style-module__text_hide--1GPmT",account:"src-components-center-style-module__account--3kvlp"}},830:function(e,t,a){},831:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAB10lEQVQ4T32Uy6tOYRTGf79CGHwDUWcgd+o7SQb+AQoJnTKQkhQSEl9MGZlxXHLJxFFMGLoVUsYmwkmYoFxKEkoOTmlpfb1b23a+8872Wut91rPW87xbGici2sB2YCUwq6TfAveAIfVZ845VICImAseADcBZ4CbwquTnAuuBvcAN4KA6Wt3tghSAW8AnYKf6vdmt1E0FzgMzgTUVUAVyCpihbh7r8hgjXwK+qckMyw7uAu06g4hYAlwFpgP71Su10acAz4F16tMEGQQ+qkfrHSPiGjBQYl+BaWrUgA7k4tVOgjwBNqmJ/PdExGVgSwm8UWc38guB62p/gnwB+tRfjaI+4GQZ57D6oJGfAHxWW+OBLAVWAS3gYUqr/q6N8w/IMLBRfVFkTMXOAHty8bXuWbdWfVfqFqSX1HYyOQ58UNNo6ZlDwJEeUj8GliWjiOgA89R9CdIP3C4Sj0TEfWB5D5BHwArgZ5F4QB2uzJb0W+rWiJicvgC2AYsK2EvgYi5a/RERQ8CourtrtjLCpMIm592VhTWbo46U72xwDpgPrK4UrT/ABDqRLgROlwf4ujCZU+LJ8A7QqVuivv1ufUQsBnYUefOh5XlffgUXcgfNff0H0mOh44b/ADUdxxJV0p9VAAAAAElFTkSuQmCC"},850:function(e,t,a){e.exports={dashboard:"src-routes-dashboard-style-module__dashboard--1pvZu",container:"src-routes-dashboard-style-module__container--2Ve6G",header:"src-routes-dashboard-style-module__header--388R6",right:"src-routes-dashboard-style-module__right--23sP_",search_box:"src-routes-dashboard-style-module__search_box--2V6NI",icon_search:"src-routes-dashboard-style-module__icon_search--3TwQt",hr:"src-routes-dashboard-style-module__hr--20ckf",logo:"src-routes-dashboard-style-module__logo--12tRZ",topCards:"src-routes-dashboard-style-module__topCards--pbX6n",gridstack_box:"src-routes-dashboard-style-module__gridstack_box--2unbF",gridstack_box_top:"src-routes-dashboard-style-module__gridstack_box_top--3kAGU",serarch_box:"src-routes-dashboard-style-module__serarch_box--1z2we",bottom_cards:"src-routes-dashboard-style-module__bottom_cards--1IdI0",gridstack_box_toolbar:"src-routes-dashboard-style-module__gridstack_box_toolbar--38Ndx",btn_finish:"src-routes-dashboard-style-module__btn_finish--35v_b",placeholder_box:"src-routes-dashboard-style-module__placeholder_box--RPQxo"}},851:function(e,t){e.exports="data:image/png;base64,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"},852:function(e,t,a){var n={"./bg1.jpg":853,"./bg2.jpg":854};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id=852},853:function(e,t,a){e.exports=a.p+"static/media/bg1.86c1595f.jpg"},854:function(e,t,a){e.exports=a.p+"static/media/bg2.9251340e.jpg"},949:function(e,t,a){"use strict";a.r(t);a(176);var n=a(75),o=(a(241),a(86)),s=a(26),c=a(27),r=a(29),i=a(28),l=a(30),d=a(0),m=a(55),u=a(762),h=(a(175),a(39)),g=a(34),p=a.n(g),f=a(166),b=a.n(f),_=(a(830),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).gridStack=void 0,a.grid=void 0,a.inited=!1,a.state={},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.init(this.props.data)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.data;b.a.isEqual(e.data,t)||(this.grid.removeAll(),this.init(e.data))}},{key:"init",value:function(e){var t=this.props,n=t.name,o=t.float,s=t.isMain,c=t.userId,r=t.autoPosition,i=t.theme,l=t.isClick,d=t.authentication,m=p.a.get("accessToken"),u="theme_0"===i?{color_0:"D8502C",color_1:"BB1E48",color_2:"603BBC",color_3:"491BC6",color_4:"3380DC",color_5:"0A57C1",color_6:"2881EF",color_7:"5E3AB4",color_8:"9A01A4",color_9:"5A4E8C",color_10:"03A006",color_11:"0099AC",color_12:"B76F54",color_13:"065B91",color_14:"08AFB6",color_15:"AF9770",color_16:"0C90BF",color_17:"2DACC7",color_18:"5479EA"}:{color_0:"628C8A",color_1:"6D6D6F",color_2:"48616B",color_3:"979AA3",color_4:"758E93",color_5:"5D8698",color_6:"748E93",color_7:"688995",color_8:"A6C0BD",color_9:"526C76",color_10:"556772"},g=this,f={acceptWidgets:!0,cellHeight:"auto",width:24,float:o,verticalMargin:10,disableResize:!0},_=g.grid=$("#".concat(n)).gridstack($.extend({},f,{})).data("gridstack");$("#".concat(n)).on("dragstart",function(e,t){window.dragCheck=!0}),$("#".concat(n)).on("dragstop",function(e,t){window.dragCheck=!1}),$("#".concat(n)).on("change",function(e,t){if(s&&g.inited){for(var a=$("#".concat(n)).find(".grid-stack-item"),o=[],c=0;c<a.length;c++){var r=$(a[c]).data(),i=r.id,l=r.chineseName,d=r.englishName,m=r.url,u=r.icon,h=r.type,p=r.gsWidth,f=r.gsHeight,b=r._gridstack_node&&r._gridstack_node.x,_=r._gridstack_node&&r._gridstack_node.y,y={id:i,chineseName:l,englishName:d,url:m,backgroundKey:r.backgroundkey,icon:u,type:h,width:p,height:f,left:b,top:_};o.push(y)}g.props.onChange&&g.props.onChange(o,null,window.dragCheck)}});var y=function(e){for(var t=[],a=0;a<e.length;a++){var n=$(e[a]).data(),o=n.id,s=n.chineseName,c=n.englishName,r=n.url,i=n.icon,l=n.type,d=n.gsWidth,m=n.gsHeight,u=n._gridstack_node&&n._gridstack_node.x,h=n._gridstack_node&&n._gridstack_node.y,g={id:o,chineseName:s,englishName:c,url:r,backgroundKey:n.backgroundkey,icon:i,type:l,width:d,height:m,left:u,top:h};t.push(g)}return t};$("#gridstack2").on("added",function(e,t){if(g.inited){var a=$("#gridstack1").find(".grid-stack-item"),n=$("#gridstack2").find(".grid-stack-item"),o=y(a),s=y(n);g.props.onChange&&g.props.onChange(o,s,window.dragCheck)}});var A=function(e){if(!window.dragCheck){var t=e.currentTarget.dataset;"http://"===t.url||l||"type_0"!==t.type||(1*e.currentTarget.dataset.secondLogin?window.open(e.currentTarget.dataset.url):d({shortName:t.identifier,userId:c,cb:function(t,a){if(a)if(a.data.isAccess)window.open(e.currentTarget.dataset.url+"?accessToken=".concat(m));else{var n="zh"===p.a.get("local_language")?"\u65e0\u6743\u9650\u8bbf\u95ee\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458":"No access, please contact the administrator";h.a.warn(n)}}}))}};$("#".concat(n)).on("added",function(e,t){for(var a=0;a<t.length;a++){$(t[a].el).bind("mouseup",A)}}),b.a.map(e,function(e){var t='<div \n                    data-type="'.concat(e.type,'" \n                    data-url="').concat(e.url,'" \n                    data-id="').concat(e.id,'" \n                    data-name="').concat(e.name,'" \n                    data-identifier="').concat(e.identifier,'"\n                    data-icon="').concat(e.icon,'" \n                    data-second-login="').concat(e.secondLogin,'" \n                    data-theme="').concat(i,'"\n                    data-backgroundkey="').concat(e.backgroundKey,'">\n                      <div class="grid-stack-item-content ').concat(e.backgroundKey,'">       ').concat(e.secondLogin?"<img src=".concat(a(831)," alt='' class='dashboard_tips'/>"):"",'\n                  \n                  <img style="height: 42px; display:block; margin: .3rem auto 0;" src="').concat(e.icon,'" />\n                          <p class="gridstack-title">').concat(e.name?e.name:"","</p>\n                      </div>\n                <div/>");"type_1"===e.type&&(t='<div data-type="'.concat(e.type,"\" style='cursor: default'\n                data-url=\"").concat(e.url,'" \n                data-id="').concat(e.id,'" \n                data-name="').concat(e.name,'"\n                data-identifier="').concat(e.identifier,'"\n                data-icon="').concat(e.icon,'"\n                data-backgroundKey="').concat(e.backgroundKey,'">\n                    <div class="grid-stack-item-content ').concat(e.backgroundKey,"\" style='overflow: hidden'>\n                      <iframe \n                        src=\"").concat("zh"===p.a.get("local_language")?e.content:e.encontent).concat(e.content.indexOf("?")>-1?"&":"?","accessToken=").concat(m,"&bgColor=").concat(u[e.backgroundKey],'" \n                        width="100%" \n                        height="100%" \n                        frameborder="0" \n                        scrolling="no"\n                      />\n                    </div>\n                    <div class="grid-stack-item-content" style="background:transparent"></div>\n                </div>'));var n=$(t);g.props.compareData?b.a.indexOf(g.props.compareData,e.id)<0&&_.addWidget(n,e.left,e.top,e.width,e.height,r):_.addWidget(n,e.left,e.top,e.width,e.height,r)}),this.inited=!0}},{key:"render",value:function(){var e=this.props.name;return d.createElement("div",{className:"gridstack grid-stack",style:{width:"100%",minHeight:"100%"},id:e})}}]),t}(d.Component)),y=a(764),A=a(140),E=a(4),k=a.n(E),v=a(836),C=a(40),N=Object(C.c)({placeholder_search:{id:"placeholder_search",defaultMessage:"Search"},placeholder_more_search:{id:"placeholder_more_search",defaultMessage:"Unified Fusion Platform"},btn_finish:{id:"btn_finish",defaultMessage:"Finish"},setting_txt:{id:"setting_txt",defaultMessage:"Drag useful cards to desktop"},search_no_message:{id:"search_no_message",defaultMessage:"No results found"}}),w=a(850),x=a.n(w),O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(i.a)(t).call(this,e))).getAllCards=function(){var e="zh"===p.a.get("local_language")?"chinese":"english";a.props.getAllCards({language:e,cb:function(e,t){if(a.setState({loaded:!0}),t){var n=b.a.partial(b.a.map,b.a,"id")(t.data.completes);a.setState({compareData:n,theme:t.data.theme})}}})},a.toggleMoreMenu=function(e){a.setState({showMoreMenu:e}),e&&a.searchCards("")},a.changeTheme=function(){var e=a.state,t=e.theme;!e.showMoreMenu&&a.props.changeTheme({theme:"theme_0"===t?"theme_1":"theme_0",cb:function(e,t){window.location.reload()}})},a.onChange=function(e,t,n){if(a.state.showMoreMenu||!n){var o=b.a.partial(b.a.map,b.a,"id");a.setState({compareData:o(e)}),a.props.saveCards({cb:function(e,t){},data:{theme:"",completes:e,todos:t}})}},a.searchCards=function(e){var t="zh"===p.a.get("local_language")?"chinese":"english";a.props.searchCards({cb:function(t,n){var o=n&&n.data?n.data.todos:[];a.setState({searchTodos:o,serachName:e})},serachName:e,language:t})},a.state={showMoreMenu:!1,compareData:[],loaded:!1,searchTodos:[],theme:"",serachName:""},a}return Object(l.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getAllCards(),this.props.resetQuerys()}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.resetCard,a=e.resetTodo;t(),a()}},{key:"renderMoreMenu",value:function(){var e=this,t=this.props.intl.formatMessage,s=this.state,c=s.compareData,r=s.searchTodos,i=s.showMoreMenu,l=s.serachName,m=s.theme;return d.createElement("div",{className:x.a.gridstack_box,id:"gridstackBox"},d.createElement("div",{className:x.a.gridstack_box_top},d.createElement("span",null,t(N.setting_txt),"\u2026"),d.createElement(o.a,{className:x.a.serarch_box,placeholder:t(N.placeholder_more_search),allowClear:!0,prefix:d.createElement("span",{className:k()("iconfont icon-search")}),onChange:function(t){e.searchCards(t.target.value)}})),d.createElement("div",{className:x.a.bottom_cards},r||!l?d.createElement(v.Scrollbars,{style:{height:"100%"}},d.createElement(_,{isMain:!1,onChange:this.onChange,compareData:c,float:!1,data:r,isClick:i,name:"gridstack2",autoPosition:!0,theme:m})):d.createElement("div",{className:x.a.placeholder_box},d.createElement("img",{src:a(851),alt:""}),d.createElement("p",null,t(N.search_no_message),"\uff5e"))),d.createElement("div",{className:x.a.gridstack_box_toolbar},d.createElement(n.a,{className:x.a.btn_finish,onClick:this.toggleMoreMenu.bind(this,!1)},t(N.btn_finish))))}},{key:"render",value:function(){var e=this.props,t=e.history,n=e.intl,o=e.cards,s=e.user,c=e.getSystemAuthorityByName,r=this.state,i=r.showMoreMenu,l=r.theme,m=n.formatMessage;if(!this.state.loaded||!l)return"";var h=i?"3.57rem":0,g={background:"url(".concat(a(852)("./bg"+("theme_0"===l?1:2)+".jpg"),")"),marginBottom:h};return d.createElement("div",{className:k()(l,x.a.dashboard),style:g},d.createElement("div",{className:x.a.container},d.createElement("header",{className:x.a.header},d.createElement("img",{className:x.a.logo,src:a(335),alt:""}),d.createElement("div",{className:x.a.right},d.createElement("div",{className:x.a.search_box,onClick:function(){i||t.push("/search")}},d.createElement("span",{className:k()("iconfont icon-search",x.a.icon_search)}),d.createElement("span",{className:x.a.hr}),d.createElement("span",null,m(N.placeholder_search))),d.createElement("span",{onClick:this.changeTheme,className:k()("iconfont icon-theme")}),d.createElement("span",{className:k()("iconfont icon-setting"),onClick:this.toggleMoreMenu.bind(this,!0)}),d.createElement(A.a,{styles:{margin:"0 .18rem"},portal:i}),d.createElement(u.a,{history:t,intl:n,show:i}),d.createElement(y.a,{history:t,intl:n,show:i}))),d.createElement("div",{className:x.a.topCards},d.createElement(_,{onChange:this.onChange,authentication:c,userId:s.data.user.userId,isMain:!0,float:!1,name:"gridstack1",autoPosition:!1,data:o,isClick:i,theme:l}))),i?this.renderMoreMenu():null)}}]),t}(d.Component);t.default=Object(m.b)(function(e){var t=e.portal;return{cards:t.cards,todos:t.todos,user:e.user.user}},function(e){var t=e.portal;return{getAllCards:t.getAllCards,changeTheme:t.changeTheme,saveCards:t.saveCards,searchCards:t.searchCards,getSystemAuthorityByName:t.getSystemAuthorityByName,resetCard:t.resetCard,resetTodo:t.resetTodo,resetQuerys:e.search.resetQuerys}})(Object(C.d)(O))}}]);
//# sourceMappingURL=dashboard.d492cd02.chunk.js.map