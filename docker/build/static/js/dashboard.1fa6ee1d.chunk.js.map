{"version":3,"sources":["components/news/index.tsx","components/news/style.module.less","components/center/index.tsx","components/center/style.module.less","routes/dashboard/style.module.less","assets/images/placeholder.png","assets/images/bg1.jpg","assets/images/bg2.jpg","components/gridstack/index.tsx","messages/dashboard.ts","routes/dashboard/index.tsx"],"names":["News","props","_this","Object","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_10__","this","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_12__","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_13__","call","notice_timer","getUnreadNoticeList","lan","store","get","_this$props","getAppCodeList","language","cb","resetNoticeRead","goNoticeList","history","push","toDetail","id","pathname","state","list","_this$props2","unreadNoticeList","appCodeList","intl","formatMessage","warringTypes","count","react__WEBPACK_IMPORTED_MODULE_16__","className","styles","content","notice_kong","common_msg","no_message","antd_es_row__WEBPACK_IMPORTED_MODULE_7__","listFooter","antd_es_col__WEBPACK_IMPORTED_MODULE_9__","style","textAlign","cursor","span","onClick","read_all","listBox","noticeEntities","map","notice","index","noticItem","key","bind","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_14__","antd_es_badge__WEBPACK_IMPORTED_MODULE_5__","color","level","classNames","title","status","readed","title_unread","txt","txt_unread","message","noticeBtm","origin","filter","item","code","appCode","locale","name","english","noticeTime","occurTime","antd_es_icon__WEBPACK_IMPORTED_MODULE_3__","type","font","_this2","setInterval","clearInterval","resetNoticeLists","_this$props3","show","notice_icon","ml18","icon_notice","notice_num","antd_es_popover__WEBPACK_IMPORTED_MODULE_1__","placement","trigger","React","connect","_ref","common","search","_ref2","_ref2$common","module","exports","ant-popover-inner-content","confirm","Center","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_8__","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_10__","_Users_edz_Desktop_exhibit_portal_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_11__","logout","accessToken","confirm_txt","okText","btn_sure","cancelText","btn_cancel","onOk","params","err","res","remove","antd_es_message__WEBPACK_IMPORTED_MODULE_7__","success","message_back","onCancel","user","userName","data","account","menuHeaderDropdown","react__WEBPACK_IMPORTED_MODULE_15__","antd_es_menu__WEBPACK_IMPORTED_MODULE_3__","menu","selectedKeys","Item","antd_es_icon__WEBPACK_IMPORTED_MODULE_5__","change_psw","center_icon","concat","action","text_hide","antd_es_dropdown__WEBPACK_IMPORTED_MODULE_1__","overlay","dashboard","container","header","right","search_box","icon_search","hr","logo","portalCards","gridstack","grid-stack","gridstack_box","gridstack_box_top","serarch_box","gridstack_box_toolbar","btn_finish","placeholder-box","__webpack_require__","p","Gridstack","classCallCheck","possibleConstructorReturn","getPrototypeOf","gridStack","grid","inited","flag","init","nextProps","_","isEqual","removeAll","float","isMain","autoPosition","self","options","acceptWidgets","cellHeight","width","verticalMargin","disableResize","$","extend","on","event","ui","window","dragCheck","items","find","objs","i","length","chineseName","englishName","url","icon","gsWidth","height","gsHeight","left","_gridstack_node","x","top","y","obj","backgroundKey","backgroundkey","onChange","dealData","items2","objs2","openUrl","e","currentTarget","dataset","isClick","open","el","node","element","compareData","indexOf","addWidget","react","fontSize","innerHeight","minHeight","dashboard_msg","defineMessages","placeholder_search","defaultMessage","placeholder_more_search","setting_txt","search_no_message","cell_h","Dashboard","searchInput","getAllCards","setState","loaded","partial","resolve","completes","theme","showMoreMenu","searchCards","hideMoreMenu","changeTheme","_this$state","location","reload","data2","move","saveCards","todos","serachName","_searchTodos","showSearch","searchTodos","renderSearchTodos","_this$state2","c_h","src","require","alt","lib","components_gridstack","row","resetQuerys","resetCard","resetTodo","input","placeholder","allowClear","ref","onPressEnter","value","target","es_button","cards","bottom","theme_0","background","paddingBottom","theme_1","theme_style","components_language","margin","portal","news","center","renderMoreMenu","_ref$portal","_ref2$portal","injectIntl"],"mappings":"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","file":"static/js/dashboard.1fa6ee1d.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Popover, Row, Col, Badge, Icon, } from \"antd\";\nimport styles from \"./style.module.less\";\nimport classNames from \"classnames\";\nimport store from \"store\";\nimport { common_msg } from '../../messages/common';\n\nexport interface NewsProps {\n  history;\n  intl;\n  show?;\n  unreadNoticeList;\n  appCodeList;\n  getUnreadNoticeList;\n  getAppCodeList;\n  resetNoticeRead;\n  resetNoticeLists\n}\n\nclass News extends React.Component<NewsProps, any> {\n  notice_timer;\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentDidMount() {\n    this.getUnreadNoticeList();\n    // 一分钟请求一次消息列表\n    this.notice_timer = setInterval(() => {\n      this.getUnreadNoticeList();\n    }, 1000 * 60);\n  }\n  componentWillUnmount() {\n    clearInterval(this.notice_timer);\n    this.props.resetNoticeLists()\n  }\n  getUnreadNoticeList = () => {\n    let lan = store.get(\"local_language\");\n    const { getUnreadNoticeList, getAppCodeList } = this.props;\n    getUnreadNoticeList({\n      language: lan === \"zh\" ? \"chinese\" : \"english\",\n      cb: null\n    });\n    getAppCodeList({\n      cb: null\n    })\n  }\n  resetNoticeRead = () => {\n    const { resetNoticeRead } = this.props;\n    resetNoticeRead({\n      cb: () => {\n        this.getUnreadNoticeList()\n      }\n    })\n  }\n  goNoticeList = () => {\n    this.props.history.push(\"/notice\");\n  };\n  toDetail = (id) => {\n    this.props.history.push({\n      pathname: '/notice/detail',\n      state: { id }\n    })\n  }\n  list = () => {\n    const { unreadNoticeList, appCodeList, intl } = this.props;\n    const { formatMessage } = intl;\n    const warringTypes = ['#02B583', '#08ABF8', '#FFC000', '#FC5B5B'];\n    if (unreadNoticeList && !unreadNoticeList.count) {\n      return (\n        <div className={styles.content}>\n          <div className={styles.notice_kong}>{formatMessage(common_msg.no_message)}</div>\n          <Row className={styles.listFooter}>\n            <Col\n              style={{ textAlign: 'right', cursor: 'pointer' }}\n              span={24}\n              onClick={this.goNoticeList}\n            >\n              {formatMessage(common_msg.read_all)} >\n            </Col>\n          </Row>\n        </div>\n      );\n    }\n    return (\n      <div className={styles.content}>\n        <div className={styles.listBox}>\n          {unreadNoticeList && unreadNoticeList.noticeEntities.map((notice, index) => {\n            return (index<5&&<Row className={styles.noticItem} key={index} onClick={this.toDetail.bind(this, notice.id)}>\n              <Col span={1}>\n                <Badge color={warringTypes[notice.level]} />\n              </Col>\n              <Col span={23}>\n                <Col\n                  className={\n                    classNames(\n                      styles.title,\n                      notice.status === 'haveRead' ? styles.readed : styles.title_unread\n                    )\n                  }\n                  span={24}\n                >\n                  {notice.title}\n                </Col>\n                <p\n                  className={\n                    classNames(\n                      styles.txt,\n                      notice.status === 'haveRead' ? styles.readed : styles.txt_unread\n                    )\n                  }\n                >\n                  {notice.message}\n                </p>\n                <Row className={styles.noticeBtm}>\n                  <Col span={12} className={styles.origin}>\n                    {formatMessage(common_msg.origin)}:\n                    {appCodeList\n                      .filter((item)=>item.code === notice.appCode)\n                      .map((item)=> (\n                        intl.locale === 'zh' ? item.name : item.english\n                      ))\n                    }\n                  </Col>\n                  <Col span={12} className={styles.noticeTime}>\n                    {notice.occurTime}\n                  </Col>\n                </Row>\n              </Col>\n            </Row>)\n          })}\n          <Row className={styles.listFooter}>\n            <Col\n              style={{ textAlign: 'left', cursor: 'pointer' }}\n              span={12}\n            >\n              <Icon type=\"check\" className={styles.font} />\n              <span onClick={this.resetNoticeRead}>{formatMessage(common_msg.readed)}</span>\n            </Col>\n            <Col\n              style={{ textAlign: 'right', cursor: 'pointer' }}\n              span={12}\n              onClick={this.goNoticeList}\n            >\n              {formatMessage(common_msg.read_all)} >\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  };\n  public render() {\n    const { unreadNoticeList, show } = this.props;\n    const notice_icon = (\n      <span\n        className={classNames(\n          \"iconfont icon-notice\",\n          styles.ml18,\n          styles.icon_notice\n        )}\n      >\n        {unreadNoticeList && unreadNoticeList.count ? (\n          unreadNoticeList.count <= 99 ? (<label className={styles.notice_num}>{unreadNoticeList.count}</label>) :\n            (<label className={styles.notice_num}>99+</label>)\n        ) : null}\n      </span>\n    )\n    return (\n      <div>\n        {show ? notice_icon : (<Popover\n          placement=\"bottomLeft\"\n          content={this.list()}\n          trigger=\"hover\"\n        >\n          {notice_icon}\n        </Popover>)}\n      </div>\n    );\n  }\n}\nconst mapState2Props = ({ \n  common: { \n    unreadNoticeList \n  }, \n  search: {\n    appCodeList\n  }\n}) => ({\n  unreadNoticeList,\n  appCodeList\n})\nconst mapDispatch2Props = ({\n  common: {\n    getUnreadNoticeList, \n    resetNoticeRead,\n    resetNoticeLists\n  },\n  search: {\n    getAppCodeList \n  }\n}:any)=> ({\n  getUnreadNoticeList, \n  getAppCodeList,\n  resetNoticeRead,\n  resetNoticeLists\n})\nexport default connect(\n  mapState2Props,\n  mapDispatch2Props\n)(News)\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"icon_notice\":\"src-components-news-style-module__icon_notice--1apwh\",\"notice_num\":\"src-components-news-style-module__notice_num--1LpjW\",\"ant-popover-inner-content\":\"src-components-news-style-module__ant-popover-inner-content--1xqbl\",\"content\":\"src-components-news-style-module__content--2eOU0\",\"notice_kong\":\"src-components-news-style-module__notice_kong--J6ON5\",\"listFooter\":\"src-components-news-style-module__listFooter--2G9Na\",\"noticItem\":\"src-components-news-style-module__noticItem--3meZw\",\"title\":\"src-components-news-style-module__title--KoMJa\",\"title_unread\":\"src-components-news-style-module__title_unread--1FyOT\",\"readed\":\"src-components-news-style-module__readed--m0ljQ\",\"txt_unread\":\"src-components-news-style-module__txt_unread--2ydLy\",\"txt\":\"src-components-news-style-module__txt--21dUm\",\"noticeBtm\":\"src-components-news-style-module__noticeBtm--2DUkT\",\"noticeTime\":\"src-components-news-style-module__noticeTime--1nZkX\",\"origin\":\"src-components-news-style-module__origin--2tQb5\",\"font\":\"src-components-news-style-module__font--NyWzg\"};","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Dropdown, Menu, Icon, Modal, message } from 'antd';\nimport store from 'store';\nimport styles from './style.module.less';\nimport { common_msg } from '../../messages/common';\nconst { confirm } = Modal;\nexport interface CenterProps {\n  history;\n  intl;\n  show?;\n  logout;\n  user;\n}\n\nclass Center extends React.Component<CenterProps, any> {\n  constructor(props) {\n    super(props)\n    this.state = {\n    }\n  }\n  logout = () => {\n    let { logout, history } = this.props;\n    let accessToken = store.get('accessToken');\n    const { formatMessage } = this.props.intl;\n    confirm({\n      title: formatMessage(common_msg.confirm_txt),\n      okText: formatMessage(common_msg.btn_sure),\n      cancelText: formatMessage(common_msg.btn_cancel),\n      onOk() {\n        logout({\n          params: { accessToken },\n          cb: (err, res) => {\n            if (res && res.status.code === '200') {\n              store.remove('accessToken');\n              message.success(formatMessage(common_msg.message_back));\n              history.push('/login');\n            }else {\n              store.remove('accessToken');\n              history.push('/login');\n            }\n          }\n        });\n      },\n      onCancel() { }\n    });\n  };\n  public render() {\n    const { formatMessage } = this.props.intl;\n    let { user, show, } = this.props;\n    const userName = user ? user.data.user.account : '';\n    const menuHeaderDropdown = (\n      <Menu className={styles.menu} selectedKeys={[]}>\n        <Menu.Item key=\"password\" onClick={\n          () => {\n            this.props.history.push('/password')\n          }\n        }>\n          <Icon type=\"lock\" />\n          {formatMessage(common_msg.change_psw)}\n        </Menu.Item>\n        <Menu.Item key=\"logout\" onClick={this.logout}>\n          <Icon type=\"logout\" />\n          {formatMessage(common_msg.logout)}\n        </Menu.Item>\n      </Menu>\n    );\n    const center_icon = (\n      <label className={`${styles.action} ${styles.account}`}>\n        <span className=\"iconfont icon-principal\" />\n        <span className={styles.text_hide}>{userName}</span>\n        <span className=\"iconfont icon-down\" />\n      </label>\n    )\n    return (\n      <div>\n        {show ? center_icon :\n          (<Dropdown overlay={menuHeaderDropdown}>\n            { center_icon }\n          </Dropdown>)\n        }\n      </div>\n    );\n  }\n}\nconst mapState2Props = ({ \n  user: { \n    user \n  }, \n}) => ({\n  user,\n})\nconst mapDispatch2Props = ({\n  user: {\n    logout\n  }\n}:any) => ({\n  logout\n})\nexport default connect(\n  mapState2Props, \n  mapDispatch2Props\n)(Center)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"action\":\"src-components-center-style-module__action--1i1TO\",\"text_hide\":\"src-components-center-style-module__text_hide--1GPmT\",\"account\":\"src-components-center-style-module__account--3kvlp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dashboard\":\"src-routes-dashboard-style-module__dashboard--1pvZu\",\"container\":\"src-routes-dashboard-style-module__container--2Ve6G\",\"header\":\"src-routes-dashboard-style-module__header--388R6\",\"right\":\"src-routes-dashboard-style-module__right--23sP_\",\"search_box\":\"src-routes-dashboard-style-module__search_box--2V6NI\",\"icon_search\":\"src-routes-dashboard-style-module__icon_search--3TwQt\",\"hr\":\"src-routes-dashboard-style-module__hr--20ckf\",\"logo\":\"src-routes-dashboard-style-module__logo--12tRZ\",\"portalCards\":\"src-routes-dashboard-style-module__portalCards--1W6oS\",\"gridstack\":\"src-routes-dashboard-style-module__gridstack--Bwisf\",\"grid-stack\":\"src-routes-dashboard-style-module__grid-stack--OZZFi\",\"gridstack_box\":\"src-routes-dashboard-style-module__gridstack_box--2unbF\",\"gridstack_box_top\":\"src-routes-dashboard-style-module__gridstack_box_top--3kAGU\",\"serarch_box\":\"src-routes-dashboard-style-module__serarch_box--1z2we\",\"gridstack_box_toolbar\":\"src-routes-dashboard-style-module__gridstack_box_toolbar--38Ndx\",\"btn_finish\":\"src-routes-dashboard-style-module__btn_finish--35v_b\",\"placeholder-box\":\"src-routes-dashboard-style-module__placeholder-box--3RrYn\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABQCAYAAAB28QlaAAAIV0lEQVR4Xu2da2xcRxXHz5ndu4+76zW24yZp3MSO4zgvCwxpEEJNygfakpCPTRFKbUQrlS9EWM5WlXhZ9AMtdkIkPkCE1IRGEZWqSogPVVtUQnkUgZsAKXZInMauX/ErfuzG+/DunYNmsUtqfPfO2uP1rpmRony45/7Pmd+czOPOTBZBcYlEIhWG4XmBiA4BgE+x/GrLEQDcsix4vqTE/1vVzlC1YDyeeINzelS1bj71ECHBGH7S5/PdUOlXKWwiCsViiWkAUKqrssKyWojYapq+07L2MnZKocRisQeIsF/GcRHY/CAQ8H9fZZwatj1NDVtlpjloFTdszjnEYgkgEoP+2hav1wMej5EtiOKGffODfpiejqwt5XnvjCHs27szG/Dihn31/eswN5cqCNgiiLq6aigNBe3i0bBVtpSGrZKmg5aGrWHLEXBa1Og+W46jlJWGnR1TXleQOrOlclbOSGe2zmxbAno2IvePSImVhq0Eo5yIhi3HSYmVhq0Eo5yIhi3HSYmVhq0Eo5yIhi3HSYmVhq0Eo5zIzrpqCK3X79kDgyMwOjohR2KVrbxeA3bv2gFut2t9bh6IWol9yELYg3S5bCEvwC/unZpVTlbV8hq2aqJZ9DRsDXuegNMn1jyCUuFKZ7YKipIaGrYkKBVmhQ37lVffevro4Yd+blfT2dk4jIyMAy+A42clJQHYtHGDbaP09g5d6u6+8sVjx45ZKlpOaCjbg/zRjy98OmT6/vDk8S+bdsF1X7uZOetXKGX37loImP4lw+l8rws63+s6HW5tblUVrxLY7e0v3wcu3hk0za1NTx61je1W7wBMTs6oin1FOowxaNhXB4ax9OHK/8D+JyBjTSdbmi6syNn8yyuGffbsWSMy630bCB4KBkzIBlusHKPR2cwqcq2LafqznmJdgE0ECeZ2Hzz5reOdK415xbDbT537GQA+IwJxgr3SYPP5/gLseZ9Dcyz54Ldbnrm9khhWBLvj9LlvEOFPFwJYx7ABEP/sdc984cSJE8nlAl827I6O8wcJ4TcA4Pm/gJ2ZTeBLJ1ubn8or7BfO/GKryyLRh913r+N1ndkLgxzDEydbmn+yHOA5Z3Zb21kzUOL9IwA0LnboBHtqOgLDQ6PAae0HyJJgELZtux8Ql0awqM++t6ppYOzRcEtTzpdSc4bd3nH+l4DwlaVa1gl2V3cPxOPL7vKWk0xZ39lVvx2CwaWXBVlgiw5lAjgeCIebenMJKifYHR3nniPEH9o5cII9ODQCIyOFsVMjLi/t3bMD7DYRssMGIID3kbPPhcNNs7LApWGfOvXyYUL+ayKw3eJwgi2CEndqCmGeLWCLhY1dcYI9/95r4davPQ4Z9s5FCvaLZy7Us3T6L4BYmk1SBrZzSIVhIQlbdCnfC7c2Py8TtRTsi6+8/i8rbdU7CXo9Bjy4f+/SZojg83oyu9l2g5KTvsrniUQy62q2f2AExB+Jwr2G+/ATT3zpTSdbKdiXfvdXzpjNsO3kYdFz0/TBzrqabLvaOSrmbn779hgMDY/l/qLNG3ejs88eOfJwu5Ng3mGLgCoqyqCmeotTbKvyPHo3Btev31KqXdCwRTfS+Kk9IG7Z5rv0fTgEExNTSt0WNGxR04aGehB9fL7LjZ4+iETuKnVb8LBrqqugouITSivtJGZZHMQlKstStvmScVnwsA3DDXt27wDxd77Kh/3DMD4+qdxdwcMWNfYYBmzatAHEDGW1poNiuzOVSsPEnSmYmYkqB10Umb0qtV4j0aLI7DVio9ytathpxtDx2KfyWhSJ4Gws3nL4sYNnnMKVmui+8/tO8WXL9oiCk5N1/5zo+KFDBy461VPDdiIk81zDlqGkyEbDVgRSRkbDlqGkyEbDVgRSRkbDlqGkyEbDVgRSRkbDlqGkyGalsInIiEbj+91uOHD5yrV2znn+Pz4rYrHaMps3Vb66Zcvmi5bl+VMohLZnNT62qCEiFo/HP0uERxHh80QYEIFe+VtXI+fcft9/tWtT4Prbtt7fW1lZMQkgvjGyLiLrzbm5xOvl5eUfO4yegd3W1sbC4eeOIMJTRFC1uG4advbW/i/se+1ojoh+xXn6pVAolMl2nJycLDUM/4uM4X47yX9cvdaQSqU/Oq1a4ImW9/Bqt2/tKSsrXfK/T0akGQD6rmma72IsljhFBOKXN2zLjZ7e7ZHI3bK816IIHCIiNeyrv+rxGGn7cCkBwI8J2G8TQdaTTtHorNlzs69e99v/i7OivGyspqZqwCkvGKNnBexvEkGzk/HExGRZ/8BwNeekB8p5WKFQcKpux7ZeROZw1o8Pm6b/qyhmILFY8mkA+joAZt19TSbnjNGxicpEPOEnUnetz6mhC+k5IpDb7U6XlZVO2fXTi+L9O5H3O8Egjnw09YvFqIooIa4wPAKA3kKqYDHGQkTdLhec9/l8l0S/npmNLK7I+Ph4ic8XeIQx9jAA7QdAvZiRb+0+RHiHMXjD5/P1LH4t604NEZnxeLwRgH2GiBoR2U4i0lmfoSgWMDgEQFcB2GVE67JpmoPZ2kVqW2xBgIjcyWSy1rJwFyLVEvFaAFYDQJXi7pp8AhSXJRHFGGN9RPwWY64PiNI9fr+/GxFz+mkSJYCIyJdMJqtSKXrA5aLNnLONjMFGItoIgBsAqLxwxwFxmwqnEfEOAI0R0SgAjALgCBEb5DwxGAqF7qhIDyWwZQIhokA8Hi+3LFepy2WFOGchxniIcwwgoh8RTNFtiZ81REQPkbhfSR4AZgBwFyIwzkFMO+dvZzDOORcDj7h6xhExhQhz4iYJ55BCpKSYaDFGMSKKE0HM7cYIkSviclGEcyPi9YI4zipA5+X62r8B3oeFtv3D8nIAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/bg1.86c1595f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/bg2.9251340e.jpg\";","import * as React from \"react\";\nimport store from \"store\";\nimport _ from \"lodash\";\nimport \"./style/gridstack.scss\";\ndeclare var window: any;\nexport interface IGridstackProps {\n  data;\n  isClick;\n  className?;\n  style?;\n  name;\n  row;\n  float;\n  isMain;\n  onChange?;\n  autoPosition?;\n  compareData?;\n  minHeight?;\n}\ndeclare const $: any;\nclass Gridstack extends React.Component<IGridstackProps,any> {\n  gridStack;\n  grid;\n  inited = false;\n  flag = false;\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  componentDidMount() {\n    this.init(this.props.data);\n  }\n  componentWillReceiveProps(nextProps) {\n    let { data } = this.props;\n    if (!_.isEqual(nextProps.data, data)) {\n      this.grid.removeAll();\n      this.init(nextProps.data);\n    }\n  }\n  init(data) {\n    let { name, float, isMain, autoPosition } = this.props;\n    let self = this;\n    var options = {\n      acceptWidgets: true,\n      cellHeight: \"auto\",\n      width: 24,\n      float: float,\n      verticalMargin: 10,\n      disableResize: true\n    };\n    var grid = (self.grid = $(`#${name}`)\n      .gridstack($.extend({}, options, {}))\n      .data(\"gridstack\"));\n    $(`#${name}`).on(\"dragstart\", function (event, ui) {\n      window.dragCheck = true;\n    });\n    $(`#${name}`).on(\"dragstop\", function (event, ui) {\n      window.dragCheck = false;\n    });\n    $(`#${name}`).on(\"change\", function (event, items) {\n      if (isMain && self.inited) {\n        let items = $(`#${name}`).find(\".grid-stack-item\");\n        let objs: any = [];\n        for (var i = 0; i < items.length; i++) {\n          let data = $(items[i]).data();\n          let { id, chineseName, englishName, url, icon, type } = data;\n          let width = data.gsWidth;\n          let height = data.gsHeight;\n          let left = data._gridstack_node.x;\n          let top = data._gridstack_node.y;\n          let backgroundKey = data.backgroundkey;\n          let obj = {\n            id,\n            chineseName,\n            englishName,\n            url,\n            backgroundKey,\n            icon,\n            type,\n            width,\n            height,\n            left,\n            top\n          };\n          objs.push(obj);\n        }\n        if (self.props.onChange) self.props.onChange(objs,null,window.dragCheck);\n      }\n    });\n    let dealData = items => {\n      let objs: any = [];\n      for (var i = 0; i < items.length; i++) {\n        let data = $(items[i]).data();\n        let { id, chineseName, englishName, url, icon, type } = data;\n        let width = data.gsWidth;\n        let height = data.gsHeight;\n        let left = data._gridstack_node.x;\n        let top = data._gridstack_node.y;\n        let backgroundKey = data.backgroundkey;\n        let obj = {\n          id,\n          chineseName,\n          englishName,\n          url,\n          backgroundKey,\n          icon,\n          type,\n          width,\n          height,\n          left,\n          top\n        };\n        objs.push(obj);\n      }\n      return objs;\n    };\n    $(`#gridstack2`).on(\"added\", function (event, items) {\n      if (self.inited) {\n        let items = $(`#gridstack1`).find(\".grid-stack-item\");\n        let items2 = $(`#gridstack2`).find(\".grid-stack-item\");\n        let objs = dealData(items);\n        let objs2 = dealData(items2);\n        if (self.props.onChange) self.props.onChange(objs, objs2,window.dragCheck);\n      }\n    });\n\n    let openUrl = e => {\n      if (!window.dragCheck) {\n        if (e.currentTarget.dataset.type === \"type_0\") {\n          const accessToken = store.get(\"accessToken\");\n          if (e.currentTarget.dataset.url !== \"http://\" && !this.props.isClick) {\n            window.open(e.currentTarget.dataset.url + `?token=${accessToken}`);\n          }\n        }\n      }\n    };\n    $(`#${name}`).on(\"added\", function (event, items) {\n      for (var i = 0; i < items.length; i++) {\n        let element = $(items[i].el);\n        element.bind(\"mouseup\", openUrl);\n      }\n    });\n\n    _.map(data, function (node) {\n      let el = `<div \n                    data-type=\"${node.type}\" \n                    data-url=\"${node.url}\" \n                    data-id=\"${node.id}\" \n                    data-name=\"${node.name}\" \n                    data-icon=\"${node.icon}\" \n                    data-backgroundkey=\"${node.backgroundKey}\">\n                      <div class=\"grid-stack-item-content ${\n        node.backgroundKey\n        }\">\n                          <img style=\"height:1em; display:block; margin: 0.3em auto 0;\" src=\"${\n        node.icon\n        }\" />\n                          <p class=\"gridstack-title\">${\n        node.name ? node.name : \"\"\n        }</p>\n                      </div>\n                <div/>`;\n\n      if (node.type === \"type_1\") {\n        el = `<div data-type=\"${node.type}\" \n                data-url=\"${node.url}\" \n                data-id=\"${node.id}\" \n                data-name=\"${node.name}\" \n                data-icon=\"${node.icon}\" \n                data-backgroundKey=\"${node.backgroundKey}\">\n                    <div class=\"grid-stack-item-content ${node.backgroundKey}\">\n                      <img src=\"${node.content}\" alt=\"\" width=\"100%\" height=\"100%\">\n                    </div>\n                </div>`;\n      }\n      let element = $(el);\n      if (self.props.compareData) {\n        if (_.indexOf(self.props.compareData, node.id) < 0) {\n          grid.addWidget(\n            element,\n            node.left,\n            node.top,\n            node.width,\n            node.height,\n            autoPosition\n          );\n        }\n      } else {\n        grid.addWidget(\n          element,\n          node.left,\n          node.top,\n          node.width,\n          node.height,\n          autoPosition\n        );\n      }\n    });\n    this.inited = true;\n  }\n  public render() {\n    let { name, } = this.props;\n    return (\n      <div className=\"gridstack grid-stack\"\n        style={{\n          fontSize: `${(window.innerHeight - 64 * 2 - 34 - 72) / 10}px`,\n          width: `${((window.innerHeight - 64 * 2 - 34 - 72) / 10) * 2 * 24}px`,\n          minHeight: this.props.minHeight\n        }}\n        id={name}\n      />\n    );\n  }\n}\n\nexport default Gridstack;\n","import { defineMessages } from 'react-intl';\nexport const dashboard_msg = defineMessages({\n \n  placeholder_search: {\n    id: 'placeholder_search',\n    defaultMessage: 'search'\n  },\n  placeholder_more_search: {\n    id: 'placeholder_more_search',\n    defaultMessage: 'unified fusion platform'\n  },\n  btn_finish: {\n    id: 'btn_finish',\n    defaultMessage: 'finish'\n  },\n  setting_txt: {\n    id: 'setting_txt',\n    defaultMessage: 'Drag the used card to the desktop'\n  },\n  \n  search_no_message: {\n    id: 'search_no_message',\n    defaultMessage: 'Ah oh, there is nothing you want to search for'\n  },\n\n  \n});\n","import * as React from 'react';\nimport { connect } from 'react-redux';\nimport { Row, Button, Input, } from 'antd';\nimport News from '../../components/news';\nimport Gridstack from '../../components/gridstack';\nimport Center from '../../components/center';\nimport Language from '../../components/language';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport store from 'store';\nimport { Scrollbars } from 'react-custom-scrollbars';\nimport { injectIntl } from 'react-intl';\nimport { dashboard_msg } from '../../messages/dashboard';\nimport styles from './style.module.less';\nexport interface IDashboardProps {\n  history;\n  location;\n  match;\n  getAllCards;\n  saveCards;\n  searchCards;\n  resetCard,\n  resetTodo,\n  cards;\n  todos;\n  changeTheme;\n  intl;\n  resetQuerys;\n}\nconst cell_h = ((window.innerHeight - 64 * 2 - 34 - 72) / 10) * 2;\nclass Dashboard extends React.Component<IDashboardProps, any> {\n  gridStack;\n  grid;\n  searchInput;\n  constructor(props) {\n    super(props);\n    this.state = {\n      showMoreMenu: false,\n      compareData: [],\n      loaded: false,\n      showSearch: false,\n      searchTodos: [],\n      theme: '',\n      move: false,\n      serachName: '', //  设置中的搜索\n    };\n  }\n  componentDidMount() {\n    let lan = store.get('local_language');\n    let language  = lan === 'zh' ? 'chinese' : 'english';\n    this.getAllCards(language);\n    this.props.resetQuerys()\n  }\n  componentWillUnmount() {\n    const { resetCard, resetTodo, } = this.props;\n    resetCard();\n    resetTodo()\n  }\n  // 获取所有卡片\n  getAllCards = (language) => {\n    this.props.getAllCards({\n      language,\n      cb: (err, data) => {\n        this.setState({\n          loaded: true,\n        })\n        if (data) {\n          var resolve = _.partial(_.map, _, 'id');\n          let compareData = resolve(data.data.completes);\n          this.setState({\n            compareData,\n            theme: data.data.theme\n          });\n        }\n      }\n    });\n  }\n  // 展示更多卡片\n  showMoreMenu = () => {\n    this.setState({\n      showMoreMenu: true\n    });\n    this.searchCards('');\n  };\n  // 隐藏更多卡片\n  hideMoreMenu = () => {\n    this.setState({\n      showMoreMenu: false\n    });\n  };\n  // 切换主题\n  changeTheme = () => {\n    let { theme, showMoreMenu } = this.state;\n    let { changeTheme,  } = this.props;\n    //  方案一 刷新页面\n    !showMoreMenu && changeTheme({\n      theme: theme === 'theme_0' ? 'theme_1' : 'theme_0',\n      cb: (err, res) => {\n        window.location.reload();\n      }\n    });\n  };\n  // 保存卡片\n  onChange = (data, data2, move) => {\n    if(this.state.showMoreMenu || !move) {\n      var resolve = _.partial(_.map, _, 'id');\n      this.setState({\n        compareData: resolve(data)\n      });\n      this.props.saveCards({\n        cb: (err, data) => { },\n        data: {\n          theme: '',\n          completes: data,\n          todos: data2\n        }\n      });\n    }\n  };\n  // 获取拖拽（搜索）卡片列表\n  searchCards = (serachName) => {\n    let language  = store.get('local_language') === 'zh' ? 'chinese' : 'english';\n    this.props.searchCards({\n      cb: (err, data) => {\n        let _searchTodos = data && data.data ? data.data.todos : [];\n        this.setState({ showSearch: true, searchTodos: _searchTodos, serachName }, () => {\n        });\n      },\n      serachName,\n      language\n    });\n  }\n  renderSearchTodos = () => {\n    const { formatMessage } = this.props.intl;\n    const { compareData, searchTodos, showSearch, serachName, showMoreMenu } = this.state;\n    let c_w = '100%';\n    let c_h = cell_h * 2;\n    if (!showSearch) return '';\n    if (!searchTodos && serachName) {\n      return (\n        <div className=\"placeholder-box\">\n          <img src={require('../../assets/images/placeholder.png')} alt=\"\" />\n          <p>{formatMessage(dashboard_msg.search_no_message)}～</p>\n        </div>\n      );\n    }\n\n    return (\n      <Scrollbars \n        style={{ width: c_w, height: c_h,}}\n      >\n        <Gridstack\n          isMain={false}\n          onChange={this.onChange}\n          compareData={compareData}\n          minHeight={`${cell_h * 2}px`}\n          float={false}\n          row={2}\n          data={searchTodos}\n          isClick={showMoreMenu}\n          name=\"gridstack2\"\n          autoPosition={true}\n        />\n      </Scrollbars>\n    );\n  };\n  renderMoreMenu() {\n    let c_h = cell_h * 2;\n    let { showMoreMenu } = this.state;\n    const { formatMessage } = this.props.intl;\n    if (!showMoreMenu) {\n      return null;\n    }\n    return (\n      <div className={styles.gridstack_box} id=\"gridstackBox\" style={{ height: `${c_h + 137}px` }}>\n        <div className={styles.gridstack_box_top}>\n          <span>{formatMessage(dashboard_msg.setting_txt)}…</span>\n          <span className={styles.serarch_box}>\n            <span className={classNames(\"iconfont icon-search\", styles.icon_search)} />\n            <Input\n              className=\"\"\n              placeholder={formatMessage(dashboard_msg.placeholder_more_search)}\n              allowClear={true}\n              ref={(node) => {\n                this.searchInput = node;\n              }}\n              onPressEnter={(e) => {\n                let serachName = this.searchInput.state.value;\n                this.searchCards(serachName);\n              }}\n              onChange={(e) => {\n                if (e.target.value === '') {\n                  this.searchCards('');\n                }\n              }}\n            />\n          </span>\n        </div>\n        {this.renderSearchTodos()}\n        <div className={styles.gridstack_box_toolbar}>\n          <Button className={styles.btn_finish} onClick={this.hideMoreMenu}>\n            {formatMessage(dashboard_msg.btn_finish)}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n  \n  public render() {\n    const { history, intl, } = this.props;\n    const { formatMessage } = intl;\n    if (!this.state.loaded) {\n      return '';\n    }\n    let { showMoreMenu, } = this.state;\n    let { cards, } = this.props;\n    const { theme } = this.state;\n    let bottom = showMoreMenu ? (cell_h * 2 + 137) : 0;\n    const theme_0 = {\n      background: `url(${require('../../assets/images/bg1.jpg')}) no-repeat`,\n      paddingBottom: bottom,\n    }\n    const theme_1 = {\n      background: `url(${require('../../assets/images/bg2.jpg')}) no-repeat`,\n      paddingBottom: bottom,\n    }\n    let theme_style = theme === 'theme_0' ? theme_0 : theme_1;\n    return (\n      <div className={classNames(theme,styles.dashboard)} style={theme_style}>\n        <div className={styles.container}>\n          <header className={styles.header}>\n            <img className={styles.logo} src={require('../../assets/images/logo.png')} alt=\"\" />\n            <div className={styles.right}>\n              <div className={styles.search_box} onClick={()=> {\n                if(!showMoreMenu) {\n                  history.push('/search')\n                }\n              }}>\n                <span className={classNames('iconfont icon-search', styles.icon_search)} />\n                <span className={styles.hr}></span>\n                <span>{formatMessage(dashboard_msg.placeholder_search)}</span>\n              </div>\n\n              <span\n                onClick={this.changeTheme}\n                className={classNames('iconfont icon-theme')}\n              />\n\n              <span\n                className={classNames('iconfont icon-setting')}\n                onClick={this.showMoreMenu}\n              />\n\n              <Language styles={{ margin: '0 18px'}} portal={showMoreMenu} />\n              <News history={history} intl={intl} show={showMoreMenu} />\n              <Center history={history} intl={intl} show={showMoreMenu} />\n            </div>\n          </header>\n      \n          <Row className={styles.portalCards}>\n            <Scrollbars>\n              <Gridstack\n                onChange={this.onChange}\n                isMain={true}\n                float={true}\n                row={5}\n                name=\"gridstack1\"\n                autoPosition={false}\n                className=\"gridstack\"\n                data={cards}\n                isClick={showMoreMenu}\n              />\n            </Scrollbars>\n          </Row>\n        </div>\n        {\n          showMoreMenu ? this.renderMoreMenu() : null\n        }\n      </div>\n    );\n  }\n}\n\nconst mapState2Props = ({ \n  portal: { \n    cards,\n    todos \n  },\n}) => ({\n  cards, \n  todos,\n})\nconst mapDispatch2Props = ({\n  portal: {\n    getAllCards, \n    changeTheme, \n    saveCards, \n    searchCards, \n    resetCard,\n    resetTodo,\n  },\n  search: {\n    resetQuerys\n  }\n}:any) =>({\n  getAllCards, \n  changeTheme, \n  saveCards, \n  searchCards, \n  resetCard,\n  resetTodo,\n  resetQuerys\n})\n\nexport default connect(\n  mapState2Props,\n  mapDispatch2Props\n)(injectIntl(Dashboard))\n"],"sourceRoot":""}